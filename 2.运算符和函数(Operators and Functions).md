<!-- TOC  -->
- [1. 内建运算符(Built-in Operators)](#1-内建运算符built-in-operators)
    - [1.1 运算符优先顺序(Operators Precedences)](#11-运算符优先顺序operators-precedences)
        - [1.1.1 元素选择(element SELECT or dot)](#111-元素选择element-select-or-dot)
        - [1.1.2 一元前缀运算符(unary prefix operators)](#112-一元前缀运算符unary-prefix-operators)
        - [1.1.3 一元后缀(unary suffix)](#113-一元后缀unary-suffix)
        - [1.1.4 位异或(bitwise xor)](#114-位异或bitwise-xor)
        - [1.1.5 乘法类运算符(multiplicative operators)](#115-乘法类运算符multiplicative-operators)
        - [1.1.6 加法类运算符(additive operators)](#116-加法类运算符additive-operators)
        - [1.1.7 字符串连接(string concatenate)](#117-字符串连接string-concatenate)
        - [1.1.8 位与(bitwise and)](#118-位与bitwise-and)
        - [1.1.9 位或(bitwise or)](#119-位或bitwise-or)
    - [1.2 Relational Operators(关系运算符)](#12-relational-operators关系运算符)
    - [1.3 Arithmetic Operators(算数运算符)](#13-arithmetic-operators算数运算符)
    - [1.4 Logical Operators(逻辑运算符)](#14-logical-operators逻辑运算符)
    - [1.5 String Operators(字符串运算符)](#15-string-operators字符串运算符)
    - [1.6 Complex Type Constructors(复杂类型构造符)](#16-complex-type-constructors复杂类型构造符)
    - [1.7 Operators on Complex Types(复杂类型操作符)](#17-operators-on-complex-types复杂类型操作符)
- [2. 内建函数(Built-in Functions)](#2-内建函数built-in-functions)
    - [2.1 Mathematical Functions(数学函数)](#21-mathematical-functions数学函数)
        - [2.1.1 最值、正负、舍入、余数、阶乘、随机数、分桶](#211-最值正负舍入余数阶乘随机数分桶)
            - [2.1.1.1 最大值函数 `greatest`](#2111-最大值函数-greatest)
            - [2.1.1.2 最小值函数 `least`](#2112-最小值函数-least)
            - [2.1.1.3 绝对值函数 `abs`](#2113-绝对值函数-abs)
            - [2.1.1.4 数值本身函数 `positive`](#2114-数值本身函数-positive)
            - [2.1.1.5 数值相反数函数 `negative`](#2115-数值相反数函数-negative)
            - [2.1.1.6 求正负号函数 `sign`](#2116-求正负号函数-sign)
            - [2.1.1.7 向上取整函数 `ceil, ceiling`](#2117-向上取整函数-ceil-ceiling)
            - [2.1.1.8 向下取整函数 `floor`](#2118-向下取整函数-floor)
            - [2.1.1.9 四舍五入函数 `round`](#2119-四舍五入函数-round)
            - [2.1.1.10 银行家舍入函数 `bround`](#21110-银行家舍入函数-bround)
            - [2.1.1.11 正余数函数 `pmod`](#21111-正余数函数-pmod)
            - [2.1.1.12 阶乘函数 `factorial`](#21112-阶乘函数-factorial)
            - [2.1.1.13 随机数函数 `rand`](#21113-随机数函数-rand)
            - [2.1.1.14 分桶函数 `width_bucket`](#21114-分桶函数-width_bucket)
        - [2.1.2 位运算、进制转化](#212-位运算进制转化)
            - [2.1.2.1 按位左移函数 `shiftleft`](#2121-按位左移函数-shiftleft)
            - [2.1.2.2 按位右移函数 `shiftright`](#2122-按位右移函数-shiftright)
            - [2.1.2.3 按位右移函数（无符号） `shiftrightunsigned`](#2123-按位右移函数无符号-shiftrightunsigned)
            - [2.1.2.4 进制转化函数 `conv`](#2124-进制转化函数-conv)
            - [2.1.2.5 十进制转化为二进制函数 `bin`](#2125-十进制转化为二进制函数-bin)
            - [2.1.2.6 转十六进制函数 `hex`](#2126-转十六进制函数-hex)
            - [2.1.2.7 十六进制转二进制字节函数 `unhex`](#2127-十六进制转二进制字节函数-unhex)
        - [2.1.3 三角函数](#213-三角函数)
            - [2.1.3.1 弧度转角度函数 `degrees`](#2131-弧度转角度函数-degrees)
            - [2.1.3.2 角度转弧度函数 `radians`](#2132-角度转弧度函数-radians)
            - [2.1.3.3 正弦函数 `sin`](#2133-正弦函数-sin)
            - [2.1.3.4 反正弦函数 `asin`](#2134-反正弦函数-asin)
            - [2.1.3.5 余弦函数 `cos`](#2135-余弦函数-cos)
            - [2.1.3.6 反余弦函数 `acos`](#2136-反余弦函数-acos)
            - [2.1.3.7 正切函数 `tan`](#2137-正切函数-tan)
            - [2.1.3.8 反正切函数 `atan`](#2138-反正切函数-atan)
        - [2.1.4 指数、求根、对数](#214-指数求根对数)
            - [2.1.4.1 指数函数 `exp`](#2141-指数函数-exp)
            - [2.1.4.2 指数函数 `pow, power`](#2142-指数函数-pow-power)
            - [2.1.4.3 平方根函数 `sqrt`](#2143-平方根函数-sqrt)
            - [2.1.4.4 立方根函数 `cbrt`](#2144-立方根函数-cbrt)
            - [2.1.4.5 对数函数 `log`](#2145-对数函数-log)
            - [2.1.4.6 自然对数函数 `ln`](#2146-自然对数函数-ln)
            - [2.1.4.7 以10为底的对数函数 `log10`](#2147-以10为底的对数函数-log10)
            - [2.1.4.8 以2为底的对数函数 `log2`](#2148-以2为底的对数函数-log2)
    - [2.2 Collection Functions(集合函数)](#22-collection-functions集合函数)
    - [2.3 Type Conversion Functions(类型转换函数)](#23-type-conversion-functions类型转换函数)
    - [2.4 日期函数(Date Functions)](#24-日期函数date-functions)
        - [2.4.1 日期时间转换](#241-日期时间转换)
            - [2.4.1.1 UNIX时间戳转日期函数 `from_unixtime`](#2411-unix时间戳转日期函数-from_unixtime)
            - [2.4.1.2 日期转UNIX时间戳函数 `unix_timestamp`](#2412-日期转unix时间戳函数-unix_timestamp)
            - [2.4.1.3 UTC时间戳转日期函数 `from_utc_timestamp`](#2413-utc时间戳转日期函数-from_utc_timestamp)
            - [2.4.1.4 日期时间转UTC时间戳函数 `to_utc_timestamp`](#2414-日期时间转utc时间戳函数-to_utc_timestamp)
            - [2.4.1.5 日期时间格式化函数 `date_format`](#2415-日期时间格式化函数-date_format)
            - [2.4.1.6 日期时间转日期函数 `to_date`](#2416-日期时间转日期函数-to_date)
        - [2.4.2 获取日期时间中特定的部分](#242-获取日期时间中特定的部分)
            - [2.4.2.1 日期时间转年份函数 `year`](#2421-日期时间转年份函数-year)
            - [2.4.2.2 日期时间转季度函数 `quarter`](#2422-日期时间转季度函数-quarter)
            - [2.4.2.3 日期时间转月份函数 `month`](#2423-日期时间转月份函数-month)
            - [2.4.2.4 日期时间转天函数 `day, dayofmonth`](#2424-日期时间转天函数-day-dayofmonth)
            - [2.4.2.5 日期时间转小时函数 `hour`](#2425-日期时间转小时函数-hour)
            - [2.4.2.6 日期时间转分钟函数 `minute`](#2426-日期时间转分钟函数-minute)
            - [2.4.2.7 日期时间转秒函数 `second`](#2427-日期时间转秒函数-second)
            - [2.4.2.8 日期时间转年中周函数 `weekofyear`](#2428-日期时间转年中周函数-weekofyear)
            - [2.4.2.9 日期时间转指定部分函数 `extract`](#2429-日期时间转指定部分函数-extract)
        - [2.4.3 日期计算](#243-日期计算)
            - [2.4.3.1 日期时间差函数 `datediff`](#2431-日期时间差函数-datediff)
            - [2.4.3.2 日期时间加函数 `date_add`](#2432-日期时间加函数-date_add)
            - [2.4.3.3 日期时间减函数 `date_sub`](#2433-日期时间减函数-date_sub)
            - [2.4.3.4 当前日期函数 `current_date`](#2434-当前日期函数-current_date)
            - [2.4.3.5 当前时间函数 `current_timestamp`](#2435-当前时间函数-current_timestamp)
            - [2.4.3.6 日期时间加月份函数 `add_months`](#2436-日期时间加月份函数-add_months)
            - [2.4.3.7 月份最后一天函数 `last_day`](#2437-月份最后一天函数-last_day)
            - [2.4.3.8 下一个星期函数 `next_day`](#2438-下一个星期函数-next_day)
            - [2.4.3.9 日期时间截断函数 `trunc`](#2439-日期时间截断函数-trunc)
            - [2.4.3.10 月份差函数 `months_between`](#24310-月份差函数-months_between)
            - [2.4.3.11 日期向下取整函数(精确到年份) `floor_year`](#24311-日期向下取整函数精确到年份-floor_year)
            - [2.4.3.12 日期向下取整函数(精确到季度) `floor_quarter`](#24312-日期向下取整函数精确到季度-floor_quarter)
            - [2.4.3.13 日期向下取整函数(精确到月份) `floor_month`](#24313-日期向下取整函数精确到月份-floor_month)
            - [2.4.3.14 日期向下取整函数(精确到周) `floor_week`](#24314-日期向下取整函数精确到周-floor_week)
            - [2.4.3.15 日期向下取整函数(精确到天) `floor_day`](#24315-日期向下取整函数精确到天-floor_day)
            - [2.4.3.16 日期向下取整函数(精确到小时) `floor_hour`](#24316-日期向下取整函数精确到小时-floor_hour)
            - [2.4.3.17 日期向下取整函数(精确到分钟) `floor_minute`](#24317-日期向下取整函数精确到分钟-floor_minute)
            - [2.4.3.18 日期向下取整函数(精确到秒) `floor_second`](#24318-日期向下取整函数精确到秒-floor_second)
    - [2.5 Conditional Functions(条件函数)](#25-conditional-functions条件函数)
        - [2.5.1 条件判断函数 `if`](#251-条件判断函数-if)
        - [2.5.2 条件判断函数 `case when`](#252-条件判断函数-case-when)
        - [2.5.3 空值判断函数 `isnull`](#253-空值判断函数-isnull)
        - [2.5.4 非空判断函数 `isnotnull`](#254-非空判断函数-isnotnull)
        - [2.5.4 空值替换函数 `nvl`](#254-空值替换函数-nvl)
        - [2.5.5 非空查找函数 `coalesce`](#255-非空查找函数-coalesce)
        - [2.5.6 标量函数 `nullif`](#256-标量函数-nullif)
        - [2.5.7 断言函数 `assert_true`](#257-断言函数-assert_true)
    - [2.6 字符串函数(String Functions)](#26-字符串函数string-functions)
        - [2.6.1 字符串格式化](#261-字符串格式化)
            - [2.6.1.1 空格生成函数 `space`](#2611-空格生成函数-space)
            - [2.6.1.2 字符串重复函数 `repeat`](#2612-字符串重复函数-repeat)
            - [2.6.1.3 字符串格式化函数 `printf`](#2613-字符串格式化函数-printf)
            - [2.6.1.4 字符串转小写函数 `lower`](#2614-字符串转小写函数-lower)
            - [2.6.1.5 字符串转大写函数 `upper`](#2615-字符串转大写函数-upper)
            - [2.6.1.6 字符串首字母大写函数 `initcap`](#2616-字符串首字母大写函数-initcap)
            - [2.6.1.7 字符串反转函数 `reverse`](#2617-字符串反转函数-reverse)
            - [2.6.1.8 字符串左补齐函数 `lpad`](#2618-字符串左补齐函数-lpad)
            - [2.6.1.9 字符串右补齐函数 `rpad`](#2619-字符串右补齐函数-rpad)
            - [2.6.1.10 字符串前后空格去除函数 `trim`](#26110-字符串前后空格去除函数-trim)
            - [2.6.1.11 字符串左侧空格去除函数 `ltrim`](#26111-字符串左侧空格去除函数-ltrim)
            - [2.6.1.12 字符串右侧空格去除函数 `rtrim`](#26112-字符串右侧空格去除函数-rtrim)
            - [2.6.1.13 数字格式化函数 `format_number`](#26113-数字格式化函数-format_number)
            - [2.6.1.14 字符引用函数 `quote`](#26114-字符引用函数-quote)
        - [2.6.2 字符串转化](#262-字符串转化)
            - [2.6.2.1 字符串转ASCII码函数 `ascii`](#2621-字符串转ascii码函数-ascii)
            - [2.6.2.2 ASCII码转字符串函数 `chr`](#2622-ascii码转字符串函数-chr)
            - [2.6.2.3 字符串转字节函数 `binary`](#2623-字符串转字节函数-binary)
            - [2.6.2.4 字符串转字节函数 `encode`](#2624-字符串转字节函数-encode)
            - [2.6.2.5 字节转字符串函数 `decode`](#2625-字节转字符串函数-decode)
            - [2.6.2.6 哈希值（散列值）函数 `hash`](#2626-哈希值散列值函数-hash)
            - [2.6.2.7 Murmur哈希值（非加密散列值）函数 `murmur_hash`](#2627-murmur哈希值非加密散列值函数-murmur_hash)
            - [2.6.2.8 `数据屏蔽函数 mask`](#2628-数据屏蔽函数-mask)
            - [2.6.2.9 字节转base64编码函数 `base64`](#2629-字节转base64编码函数-base64)
            - [2.6.2.10 base64解码函数 `unbase64`](#26210-base64解码函数-unbase64)
            - [2.6.2.11 aes加密函数 `aes_encrypt`](#26211-aes加密函数-aes_encrypt)
            - [2.6.2.12 aes解密函数 `aes_decrypt`](#26212-aes解密函数-aes_decrypt)
            - [2.6.2.13 字符串转map函数 `str_to_map`](#26213-字符串转map函数-str_to_map)
        - [2.6.3 字符串计算](#263-字符串计算)
            - [2.6.3.1 字符串长度函数 `length`](#2631-字符串长度函数-length)
            - [2.6.3.2 字符串长度函数 `char_length, character_length`](#2632-字符串长度函数-char_length-character_length)
            - [2.6.3.3 字符串字节长度函数 `octet_length`](#2633-字符串字节长度函数-octet_length)
            - [2.6.3.4 计算两个字符串之间的编辑距离 `levenshtein`](#2634-计算两个字符串之间的编辑距离-levenshtein)
            - [2.6.3.5 词频统计 `ngrams`](#2635-词频统计-ngrams)
            - [2.6.3.6 给定范围内的词频统计 `context_ngrams`](#2636-给定范围内的词频统计-context_ngrams)
            - [2.6.3.7 计算soundex code值 `soundex`](#2637-计算soundex-code值-soundex)
            - [2.6.3.8 计算CRC码 `crc32`](#2638-计算crc码-crc32)
            - [2.6.3.9 计算md5 `md5`](#2639-计算md5-md5)
            - [2.6.3.10 计算SHA-1 `sha, sha1`](#26310-计算sha-1-sha-sha1)
            - [2.6.3.11 计算SHA-2 `sha2`](#26311-计算sha-2-sha2)
        - [2.6.4 字符串查找、替换](#264-字符串查找替换)
            - [2.6.4.1 字符串查找函数 `locate`](#2641-字符串查找函数-locate)
            - [2.6.4.2 字符串查找函数 `instr`](#2642-字符串查找函数-instr)
            - [2.6.4.3 字符串查找函数 `field`](#2643-字符串查找函数-field)
            - [2.6.4.4 字符串查找函数 `elt`](#2644-字符串查找函数-elt)
            - [2.6.4.5 检查字符串是否符合某种模式 `like`](#2645-检查字符串是否符合某种模式-like)
            - [2.6.4.6 字符串替换函数 `replace`](#2646-字符串替换函数-replace)
            - [2.6.4.7 字符串替换函数 `translate`](#2647-字符串替换函数-translate)
            - [2.6.4.8 `数据屏蔽函数 mask`](#2648-数据屏蔽函数-mask)
            - [2.6.4.9 `将某个字符串前n个字符中的各个部分，替换为指定字符 mask_first_n`](#2649-将某个字符串前n个字符中的各个部分替换为指定字符-mask_first_n)
            - [2.6.4.10 `将某个字符串后n个字符中的各个部分，替换为指定字符 mask_last_n`](#26410-将某个字符串后n个字符中的各个部分替换为指定字符-mask_last_n)
            - [2.6.4.11 `将某个字符串前n个字符除外的各个部分，替换为指定字符 mask_show_first_n`](#26411-将某个字符串前n个字符除外的各个部分替换为指定字符-mask_show_first_n)
            - [2.6.4.12 `将某个字符串后n个字符除外的各个部分，替换为指定字符 mask_show_last_n`](#26412-将某个字符串后n个字符除外的各个部分替换为指定字符-mask_show_last_n)
            - [2.6.4.13 检查字符串是否符合某种正则表达式 `rlike、regexp`](#26413-检查字符串是否符合某种正则表达式-rlikeregexp)
            - [2.6.4.14 正则表达式替换函数 `regexp_replace`](#26414-正则表达式替换函数-regexp_replace)
            - [2.6.4.15 集合查找函数 `find_in_set`](#26415-集合查找函数-find_in_set)
            - [2.6.4.16 文件查找函数 `in_file`](#26416-文件查找函数-in_file)
        - [2.6.5 字符串截取、分割、拼接](#265-字符串截取分割拼接)
            - [2.6.5.1 字符串截取函数 `substr, substring`](#2651-字符串截取函数-substr-substring)
            - [2.6.5.2 字符串截取函数 `substring_index`](#2652-字符串截取函数-substring_index)
            - [2.6.5.3 字符串分割函数 `split`](#2653-字符串分割函数-split)
            - [2.6.5.4 字符串拼接函数 `concat`](#2654-字符串拼接函数-concat)
            - [2.6.5.5 字符串拼接函数 `concat_ws`](#2655-字符串拼接函数-concat_ws)
            - [2.6.5.6 正则表达式匹配提取函数 `regexp_extract`](#2656-正则表达式匹配提取函数-regexp_extract)
            - [2.6.5.7 将字符串按照句子及单词进行二级分割生成数组 `sentences`](#2657-将字符串按照句子及单词进行二级分割生成数组-sentences)
            - [2.6.6.7 JSON解析函数 `get_json_object`](#2667-json解析函数-get_json_object)
            - [2.6.6.8 URL解析函数 `parse_url`](#2668-url解析函数-parse_url)
            - [2.6.6.9 XML解析函数，返回匹配到表达式的结果数组 `xpath`](#2669-xml解析函数返回匹配到表达式的结果数组-xpath)
            - [2.6.6.10 XML解析函数，返回匹配到表达式的节点的字符串 `xpath_string`](#26610-xml解析函数返回匹配到表达式的节点的字符串-xpath_string)
            - [2.6.6.11 XML解析函数，返回xml字符串中是否匹配xml表达式 `xpath_boolean`](#26611-xml解析函数返回xml字符串中是否匹配xml表达式-xpath_boolean)
            - [2.6.6.12 XML解析函数，返回xml字符串中经过xml表达式计算后的短整型值 `xpath_short`](#26612-xml解析函数返回xml字符串中经过xml表达式计算后的短整型值-xpath_short)
            - [2.6.6.13 XML解析函数，返回xml字符串中经过xml表达式计算后的整型值 `xpath_int`](#26613-xml解析函数返回xml字符串中经过xml表达式计算后的整型值-xpath_int)
            - [2.6.6.14 XML解析函数，返回xml字符串中经过xml表达式计算后的长整型值 `xpath_long`](#26614-xml解析函数返回xml字符串中经过xml表达式计算后的长整型值-xpath_long)
            - [2.6.6.15 XML解析函数，返回xml字符串中经过xml表达式计算后的浮点数 `xpath_float`](#26615-xml解析函数返回xml字符串中经过xml表达式计算后的浮点数-xpath_float)
            - [2.6.6.16 XML解析函数，返回xml字符串中经过xml表达式计算后的双精度浮点数 `xpath_double, xpath_number`](#26616-xml解析函数返回xml字符串中经过xml表达式计算后的双精度浮点数-xpath_double-xpath_number)
    - [2.7 Data Masking Functions(数据屏蔽函数)](#27-data-masking-functions数据屏蔽函数)
        - [2.7.1 数据屏蔽函数 `mask`](#271-数据屏蔽函数-mask)
        - [2.7.2 将某个字符串前n个字符中的各个部分，替换为指定字符 `mask_first_n`](#272-将某个字符串前n个字符中的各个部分替换为指定字符-mask_first_n)
        - [2.7.3 将某个字符串后n个字符中的各个部分，替换为指定字符 `mask_last_n`](#273-将某个字符串后n个字符中的各个部分替换为指定字符-mask_last_n)
        - [2.7.4 将某个字符串前n个字符除外的各个部分，替换为指定字符 `mask_show_first_n`](#274-将某个字符串前n个字符除外的各个部分替换为指定字符-mask_show_first_n)
        - [2.7.5 将某个字符串后n个字符除外的各个部分，替换为指定字符 `mask_show_last_n`](#275-将某个字符串后n个字符除外的各个部分替换为指定字符-mask_show_last_n)
        - [2.7.6 返回字符串的hash值 `mask_hash`](#276-返回字符串的hash值-mask_hash)
- [3. Built-in Aggregate Functions(UDAF)(聚合函数)](#3-built-in-aggregate-functionsudaf聚合函数)
    - [3.1 常用聚合函数](#31-常用聚合函数)
        - [3.1.1 求和函数 `count`](#311-求和函数-count)
- [4. Built-in Table-Generating Functions(UDTF)(表生成函数)](#4-built-in-table-generating-functionsudtf表生成函数)
    - [4.1 Usage Examples](#41-usage-examples)
        - [4.1.1 explode (array)](#411-explode-array)
        - [4.1.2 explode (map)](#412-explode-map)
        - [4.1.3 posexplode (array)](#413-posexplode-array)
        - [4.1.4 inline (array of structs)](#414-inline-array-of-structs)
        - [4.1.5 stack (values)](#415-stack-values)
    - [4.2 explode](#42-explode)
    - [4.3 posexplode](#43-posexplode)
    - [4.4 json\_tuple](#44-json_tuple)
    - [4.5 parse\_url\_tuple](#45-parse_url_tuple)
- [5. 常数及常数生成函数](#5-常数及常数生成函数)
    - [5.1 常数](#51-常数)
        - [5.1.1 布尔值true `true`](#511-布尔值true-true)
        - [5.1.2 布尔值false `false`](#512-布尔值false-false)
        - [5.1.3 自然对数的底数 `e`](#513-自然对数的底数-e)
        - [5.1.4 圆周率 `pi`](#514-圆周率-pi)
    - [5.2 常数生成函数](#52-常数生成函数)
        - [5.2.1 当前时间函数 `current_date`](#521-当前时间函数-current_date)
        - [5.2.2 当前时间函数 `current_timestamp`](#522-当前时间函数-current_timestamp)
        - [5.2.3 当前用户所属组函数 `current_groups`](#523-当前用户所属组函数-current_groups)
        - [5.2.4 当前用户函数 `current_user`](#524-当前用户函数-current_user)
        - [5.2.5 当前数据库函数 `current_database`](#525-当前数据库函数-current_database)
        - [5.2.6 当前授权用户函数 `current_authorizer`](#526-当前授权用户函数-current_authorizer)
        - [5.2.7 当前登录用户函数 `logged_in_user`](#527-当前登录用户函数-logged_in_user)
        - [5.2.8 当前Hive版本函数 `version`](#528-当前hive版本函数-version)
        - [5.2.9 生成通用唯一识别码 `uuid`](#529-生成通用唯一识别码-uuid)
        - [5.2.10 指示数据库架构是否启用了restrict模式 `restrict_information_schema`](#5210-指示数据库架构是否启用了restrict模式-restrict_information_schema)
<!-- /TOC -->
# 1. 内建运算符(Built-in Operators)
## 1.1 运算符优先顺序(Operators Precedences)
### 1.1.1 元素选择(element SELECT or dot)
```sql
语法:
    bracket_op([]);
    dot(.)
举例：
    A[B];
    A.identifier
```
### 1.1.2 一元前缀运算符(unary prefix operators)
```sql
语法:
    unary(+);
    unary(-);
    unary(~)
举例：
    -A
```
### 1.1.3 一元后缀(unary suffix)
```sql
语法:
    IS [NOT] (NULL|TRUE|FALSE)
举例：
    A IS NULL
```
### 1.1.4 位异或(bitwise xor)
```sql
语法:
    bitwise xor(^)
举例：
    A ^ B
```
### 1.1.5 乘法类运算符(multiplicative operators)
```sql
语法:
    star(*);
    divide(/);
    mod(%);
    div(DIV)
举例：
    A * B
```
### 1.1.6 加法类运算符(additive operators)
```sql
语法:
    plus(+)；
    minus(-)
举例：
    A + B
```
### 1.1.7 字符串连接(string concatenate)
```sql
语法:
    string concatenate(||)
举例：
    A || B
```
### 1.1.8 位与(bitwise and)
```sql
语法:
    bitwise and(&)
举例：
    A & B
```
### 1.1.9 位或(bitwise or)
```sql
语法:
    bitwise or(|)
举例：
    A | B
```
## 1.2 Relational Operators(关系运算符)
## 1.3 Arithmetic Operators(算数运算符)
## 1.4 Logical Operators(逻辑运算符)
## 1.5 String Operators(字符串运算符)
## 1.6 Complex Type Constructors(复杂类型构造符)
## 1.7 Operators on Complex Types(复杂类型操作符)
# 2. 内建函数(Built-in Functions)
## 2.1 Mathematical Functions(数学函数)
### 2.1.1 最值、正负、舍入、余数、阶乘、随机数、分桶
#### 2.1.1.1 最大值函数 `greatest`
```sql
语法：
    greatest(expr1, expr2, ...)
参数类型：
    expr1, expr2, ...: int, bigint, float, double, decimal, string
返回值类型：
    int, bigint, float, double, decimal, string
说明：
    返回给定表达式中的最大值。任意参数为NULL，则返回NULL。
举例：
    SELECT greatest(1,2,3,4,5)
    -- 结果：5
    SELECT greatest('a','b','c','d','e')
    -- 结果：'e'
```
#### 2.1.1.2 最小值函数 `least`
```sql
语法：
    least(expr1, expr2, ...)
参数类型：
    expr1, expr2, ...: int, bigint, float, double, decimal, string
返回值类型：
    int, bigint, float, double, decimal, string
说明：
    返回给定表达式中的最小值。任意参数为NULL，则返回NULL。
举例：
    SELECT least(1,2,3,4,5)
    -- 结果：1
    SELECT least('a','b','c','d','e')
    -- 结果：'a'
```
#### 2.1.1.3 绝对值函数 `abs`
```sql
语法：
    abs(expr)
参数类型：
    expr: double
返回值类型：
    double
说明：
    返回给定表达式的绝对值。
举例：
    SELECT abs(-1)
    -- 结果：1
```
#### 2.1.1.4 数值本身函数 `positive`
```sql
语法：
    positive(expr)
参数类型：
    expr: double, int
返回值类型：
    double, int
说明：
    返回数值本身。
举例：
    SELECT positive(-1)
    -- 结果：-1
```
#### 2.1.1.5 数值相反数函数 `negative`
```sql
语法：
    negative(expr)
参数类型：
    expr: double, int
返回值类型：
    double, int
说明：
    返回数值的相反数。
举例：
    SELECT negative(-1)
    -- 结果：1
```
#### 2.1.1.6 求正负号函数 `sign`
```sql
语法：
    sign(expr)
参数类型：
    expr: double, decimal
返回值类型：
    double, int
说明：
    返回数值的正负号。正数返回1，负数返回-1，其他情况返回0。
举例：
    SELECT sign(-1)
    -- 结果：-1
    SELECT sign(1)
    -- 结果：1
    SELECT sign(0)
    -- 结果：0
```
#### 2.1.1.7 向上取整函数 `ceil, ceiling`
```sql
语法：
    ceil(expr)
参数类型：
    expr: double
返回值类型：
    bigint
说明：
    返回大于或等于给定表达式的最小整数。
举例：
    SELECT ceil(1.1)
    -- 结果：2
```
#### 2.1.1.8 向下取整函数 `floor`
```sql
语法：
    floor(expr)
参数类型：
    expr: double
返回值类型：
    bigint
说明：
    返回小于或等于给定表达式的最大整数。
举例：
    SELECT floor(1.1)
    -- 结果：1
```
#### 2.1.1.9 四舍五入函数 `round`
```sql
语法：
    round(expr[, d])
参数类型：
    expr: double
    d: int
返回值类型：
    double
说明：
    返回给定表达式的四舍五入值。如果d为正，则返回小数点右边第d位，如果d为负，则返回小数点左边第d位。
举例：
    SELECT round(1.1)
    -- 结果：1
    SELECT round(1.1,1)
    -- 结果：1.1
    SELECT round(265,-1)
    -- 即四舍五入到十分位
    -- 结果：270
```
#### 2.1.1.10 银行家舍入函数 `bround`
```sql
语法：
    bround(expr[, d])
参数类型：
    expr: double
    d: int
返回值类型：
    double
说明：
    返回给定表达式的银行家舍入值。如果d为正，则返回小数点右边第d位，如果d为负，则返回小数点左边第d位。舍去位的数值小于5时，直接舍去；舍去位的数值大于等于6时，进位舍去；当舍去位的数值等于5时，分为两种情况：5后面还有其他数字（非0），则进位后舍去；若5后面是0，则根据5前一位数的奇偶性来判断是否需要进位，奇数进位，偶数舍去。
举例：
    SELECT bround(2.5)
    -- 结果：2
    SELECT bround(3.5)
    -- 结果：4
    SELECT bround(265,-1)
    -- 即四舍五入到十分位
    -- 结果：260
```
#### 2.1.1.11 正余数函数 `pmod`
```sql
语法：
    pmod(expr1, expr2)
参数类型：
    expr1: int, double
    expr2: int, double
返回值类型：
    double, int
说明：
    返回expr1除以expr2的正余数。
举例：
    SELECT pmod(-7,3)
    -- 结果：2
```
#### 2.1.1.12 阶乘函数 `factorial`
```sql
语法：
    factorial(expr)
参数类型：
    expr: int
返回值类型：
    bigint
说明：
    返回expr的阶乘。expr有效值为[0,20]
举例：
    SELECT factorial(5)
    -- 结果：120
```
#### 2.1.1.13 随机数函数 `rand`
```sql
语法：
    rand([a])
参数类型：
    a: int
返回值类型：
    double
说明：
    返回一个[0,1)之间的随机数。如果a确定，则返回一个[0,1)之间的一个确定的数。
举例：
    SELECT rand()
    -- 结果：0.7272949496174144
    SELECT rand(1)
    -- 结果：0.7308781907032909
    SELECT rand(1)
    -- 结果：0.7308781907032909
```
#### 2.1.1.14 分桶函数 `width_bucket`
```sql
语法：
    width_bucket(expr, min, max, buckets)
参数类型：
    expr: double, timestamp
    min: double, timestamp
    max: double, timestamp
    buckets: int
返回值类型：
    int
说明：
    返回expr在[min,max)区间内的分桶值。expr类型为数值或者日期；min为分桶下限，如果expr小于min，则返回0；max为分桶上限，如果expr大于等于max，则返回buckets+1；如果expr在[min,max)区间内，则返回一个[1,buckets]之间的整数。buckets为分桶数。
举例：
    SELECT
        id,
        width_bucket(id, 4, 13, 3) AS wb
    FROM
        (
            SELECT
                EXPLODE(ARRAY(1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16)) AS id
        ) AS t
    ORDER BY
        id
    -- 结果：
    -- id	wb
    -- 1	0
    -- 2	0
    -- 3	0
    -- 4	1
    -- 5	1
    -- 6	1
    -- 7	2
    -- 8	2
    -- 9	2
    -- 10	3
    -- 11	3
    -- 12	3
    -- 13	4
    -- 14	4
    -- 15	4
    -- 16	4
```
### 2.1.2 位运算、进制转化
#### 2.1.2.1 按位左移函数 `shiftleft`
```sql
语法：
    shiftleft(expr1, expr2)
参数类型：
    expr1: tinyint, smallint, int, bigint
    expr2: int
返回值类型：
    int, bigint
说明：
    返回expr1左移expr2位的结果。
举例：
    SELECT shiftleft(1,1)
    -- 结果：2
```
#### 2.1.2.2 按位右移函数 `shiftright`
```sql
语法：
    shiftright(expr1, expr2)
参数类型：
    expr1: tinyint, smallint, int, bigint
    expr2: int
返回值类型：
    int, bigint
说明：
    返回expr1右移expr2位的结果。
举例：
    SELECT shiftright(-4,2)
    -- 结果：-1
```
#### 2.1.2.3 按位右移函数（无符号） `shiftrightunsigned`
```sql
语法：
    shiftrightunsigned(expr1, expr2)
参数类型：
    expr1: tinyint, smallint, int, bigint
    expr2: int
返回值类型：
    int, bigint
说明：
    返回expr1无符号右移expr2位的结果。
举例：
    SELECT shiftrightunsigned(-4,2)
    -- 结果：1073741823
```
#### 2.1.2.4 进制转化函数 `conv`
```sql
语法：
    conv(expr, from_base, to_base)
参数类型：
    expr: string, bigint
    from_base: int
    to_base: int
返回值类型：
    string
说明：
    将expr从from_base进制转化为to_base进制。
举例：
    SELECT conv('100',2,10)
    -- 结果：4
```
#### 2.1.2.5 十进制转化为二进制函数 `bin`
```sql
语法：
    bin(expr)
参数类型：
    expr: bigint
返回值类型：
    string
说明：
    将expr从十进制转化为二进制。
举例：
    SELECT bin(4)
    -- 结果：100
```
#### 2.1.2.6 转十六进制函数 `hex`
```sql
语法：
    hex(expr)
参数类型：
    expr: bigint, string, binary
返回值类型：
    string
说明：
    如果expr是整数或者字节，则返回十六进制字符串；如果expr是字符串，则返回每一个字符对应的十六进制形式。
举例：
    SELECT hex(4)
    -- 结果：4
    SELECT hex('4')
    -- 结果：34
    SELECT hex('abc')
    -- 结果：616263
```
#### 2.1.2.7 十六进制转二进制字节函数 `unhex`
```sql
语法：
    unhex(expr)
参数类型：
    expr: string
返回值类型：
    binary
说明：
    将expr从十六进制转化为二进制字节。
举例：
    SELECT unhex('4')
    -- 结果：[4]
    SELECT unhex('616263')
    -- 结果：[97,98,99]
```
### 2.1.3 三角函数
#### 2.1.3.1 弧度转角度函数 `degrees`
```sql
语法：
    degrees(expr)
参数类型：
    expr: double, decimal
返回值类型：
    double
说明：
    将expr从弧度转化为角度。
举例：
    SELECT SELECT degrees(pi())
    -- 结果：180
```
#### 2.1.3.2 角度转弧度函数 `radians`
```sql
语法：
    radians(expr)
参数类型：
    expr: double, decimal
返回值类型：
    double
说明：
    将expr从角度转化为弧度。
举例：
    SELECT radians(180)
    -- 结果：3.141592653589793
```
#### 2.1.3.3 正弦函数 `sin`
```sql
语法：
    sin(expr)
参数类型：
    expr: double, decimal
返回值类型：
    double
说明：
    返回expr的正弦值。expr的单位为弧度。
举例：
    SELECT sin(pi()/2)
    -- 结果：1
```
#### 2.1.3.4 反正弦函数 `asin`
```sql
语法：
    asin(expr)
参数类型：
    expr: double, decimal
返回值类型：
    double
说明：
    返回expr的反正弦值。expr的范围为[-1,1]。
举例：
    SELECT asin(1)
    -- 结果：1.5707963267948966
```
#### 2.1.3.5 余弦函数 `cos`
```sql
语法：
    cos(expr)
参数类型：
    expr: double, decimal
返回值类型：
    double
说明：
    返回expr的余弦值。expr的单位为弧度。
举例：
    SELECT cos(pi())
    -- 结果：-1
```
#### 2.1.3.6 反余弦函数 `acos`
```sql
语法：
    acos(expr)
参数类型：
    expr: double, decimal
返回值类型：
    double
说明：
    返回expr的反余弦值。expr的范围为[-1,1]。
举例：
    SELECT acos(-1)
    -- 结果：3.141592653589793
```
#### 2.1.3.7 正切函数 `tan`
```sql
语法：
    tan(expr)
参数类型：
    expr: double, decimal
返回值类型：
    double
说明：
    返回expr的正切值。expr的单位为弧度。
举例：
    SELECT tan(pi()/4)
    -- 结果：1
```
#### 2.1.3.8 反正切函数 `atan`
```sql
语法：
    atan(expr)
参数类型：
    expr: double, decimal
返回值类型：
    double
说明：
    返回expr的反正切值。
举例：
    SELECT atan(1)
    -- 结果：0.7853981633974483
```
### 2.1.4 指数、求根、对数
#### 2.1.4.1 指数函数 `exp`
```sql
语法：
    exp(expr)
参数类型：
    expr: double, decimal
返回值类型：
    double
说明：
    返回e的expr次方。
举例：
    SELECT exp(1)
    -- 结果：2.718281828459045
```
#### 2.1.4.2 指数函数 `pow, power`
```sql
语法：
    pow(expr1, expr2)
参数类型：
    expr1: double, decimal
    expr2: double, decimal
返回值类型：
    double
说明：
    返回expr1的expr2次方。
举例：
    SELECT pow(2,3)
    -- 结果：8
```
#### 2.1.4.3 平方根函数 `sqrt`
```sql
语法：
    sqrt(expr)
参数类型：
    expr: double, decimal
返回值类型：
    double
说明：
    返回expr的平方根。
举例：
    SELECT sqrt(4)
    -- 结果：2
```
#### 2.1.4.4 立方根函数 `cbrt`
```sql
语法：
    cbrt(expr)
参数类型：
    expr: double, decimal
返回值类型：
    double
说明：
    返回expr的立方根。
举例：
    SELECT cbrt(8)
    -- 结果：2
```
#### 2.1.4.5 对数函数 `log`
```sql
语法：
    log(expr1, expr2)
参数类型：
    expr1: double, decimal
    expr2: double, decimal
返回值类型：
    double
说明：
    返回expr2的以expr1为底的对数。
举例：
    SELECT log(2, 8)
    -- 结果：3
```
#### 2.1.4.6 自然对数函数 `ln`
```sql
语法：
    ln(expr)
参数类型：
    expr: double, decimal
返回值类型：
    double
说明：
    返回expr的自然对数。
举例：
    SELECT ln(2)
    -- 结果：0.6931471805599453
```
#### 2.1.4.7 以10为底的对数函数 `log10`
```sql
语法：
    log10(expr)
参数类型：
    expr: double, decimal
返回值类型：
    double
说明：
    返回expr的以10为底的对数。
举例：
    SELECT log10(100)
    -- 结果：2
```
#### 2.1.4.8 以2为底的对数函数 `log2`
```sql
语法：
    log2(expr)
参数类型：
    expr: double, decimal
返回值类型：
    double
说明：
    返回expr的以2为底的对数。
举例：
    SELECT log2(8)
    -- 结果：3
```
## 2.2 Collection Functions(集合函数)
## 2.3 Type Conversion Functions(类型转换函数)
## 2.4 日期函数(Date Functions)
### 2.4.1 日期时间转换
#### 2.4.1.1 UNIX时间戳转日期函数 `from_unixtime`
```sql
语法：
    from_unixtime(unixtime[, format])
参数类型：
    unixtime: bigint
    format: string
返回值类型：
    string
说明：
    转化UNIX时间戳到当前时区的时间格式
举例：
    SELECT from_unixtime(1688718148,'yyyyMMdd')
    -- 结果：20211105
```
补充：<br>
1. 如果`format`为空，则默认为`yyyy-MM-dd HH:mm:ss`
2. `format`参数的格式参考：[Java SimpleDateFormat](https://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html)
#### 2.4.1.2 日期转UNIX时间戳函数 `unix_timestamp`
```sql
语法：
    unix_timestamp([date [, pattern]])
参数类型：
    date: timestamp|date
    pattern: string
返回值类型：
    bigint
说明：
    将指定格式的日期转化为UNIX时间戳(从 1970-01-01 00:00:00 UTC 到指定时间的秒数)
举例：
    SELECT unix_timestamp('2023-07-10 09:42:00','yyyy-MM-dd HH:mm:ss')
    -- 结果：1688953320
```
补充：<br>
1. 如果`date`为空，则返回当前时间的UNIX时间戳, 在2.0版本后废弃，使用[`current_timestamp()`](#2410-current_timestamp)代替
2. 如果`pattern`为空，则默认为`yyyy-MM-dd HH:mm:ss`
3. `pattern`参数的格式参考：[Java SimpleDateFormat](https://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html)
#### 2.4.1.3 UTC时间戳转日期函数 `from_utc_timestamp`
```sql
语法：
    from_utc_timestamp(timestamp, timezone)
参数类型：
    timestamp: timestamp|date, tinyint|smallint|int|bigint, float|double|decimal
    timezone: string
返回值类型：
    timestamp
说明：
    如果给定的时间戳并非UTC，则将其转化成指定的时区下时间戳
举例：
        SELECT to_utc_timestamp(1689058991557,'PRC')
    -- 结果：'2023-07-11 23:03:11'
    SELECT to_utc_timestamp('2023-07-11 15:03:11','PRC')
    -- 结果：'2023-07-11 23:03:11'
```
#### 2.4.1.4 日期时间转UTC时间戳函数 `to_utc_timestamp`
```sql
语法：
    to_utc_timestamp(timestamp, timezone)
参数类型：
    timestamp: timestamp|date, tinyint|smallint|int|bigint, float|double|decimal
    timezone: string
返回值类型：
    timestamp
说明：
    指定的时区下的时间戳，则将其转化成UTC下的时间戳
举例：
    SELECT to_utc_timestamp(1689058991557,'PRC')
    -- 结果：'2023-07-11 07:03:11'
    SELECT to_utc_timestamp('2023-07-11 15:03:11','PRC')
    -- 结果：'2023-07-11 07:03:11'
```
#### 2.4.1.5 日期时间格式化函数 `date_format`
```sql
语法：
    date_format(timestamp, fmt)
参数类型：
    timestamp: timestamp|date
    fmt: string
返回值类型：
    string
说明：
    返回指定格式的日期时间字符串
举例：
    SELECT date_format('2023-07-11 15:03:11','yyyy-MM-dd')
    -- 结果：'2023-07-11 15:03:11'
```
补充：
1. `fmt`参数的格式参考：[Java DateTimeFormatter](https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html)
#### 2.4.1.6 日期时间转日期函数 `to_date`
```sql
语法：
    to_date(timestamp)
参数类型：
    timestamp: timestamp|date
返回值类型：
    string(2.1.0之前)
    date(2.1.0及之后)
说明：
    返回日期时间字段中的日期部分
举例：
    SELECT to_date('2023-07-10 09:42:00')
    -- 结果：2023-07-10
```
### 2.4.2 获取日期时间中特定的部分
#### 2.4.2.1 日期时间转年份函数 `year`
```sql
语法：
    year(date)
参数类型：
    date: timestamp|date
返回值类型：
    int
说明：
    返回日期时间字段中的年份部分
举例：
    SELECT year('2023-07-10 09:42:00')
    -- 结果：2023
    SELECT year('2023-07-10')
    -- 结果：2023

```
#### 2.4.2.2 日期时间转季度函数 `quarter`
```sql
语法：
    quarter(date)
参数类型：
    date: timestamp|date
返回值类型：
    int
说明：
    返回日期时间字段中的季度部分
举例：
    SELECT quarter('2023-07-10 09:42:00')
    -- 结果：3
    SELECT quarter('2023-07-10')
    -- 结果：3
```
#### 2.4.2.3 日期时间转月份函数 `month`
```sql
语法：
    month(timestamp|date)
参数类型：
    date: timestamp|date
返回值类型：
    int
说明：
    返回日期时间字段中的月份部分
举例：
    SELECT month('2023-07-10 09:42:00')
    -- 结果：7
    SELECT month('2023-07-10')
    -- 结果：7
```
#### 2.4.2.4 日期时间转天函数 `day, dayofmonth`
```sql
语法：
    day(timestamp|date),
    dayofmonth(timestamp|date)
参数类型：
    date: timestamp|date
返回值类型：
    int
说明：
    返回日期时间字段中的天部分
举例：
    SELECT day('2023-07-10 09:42:00')
    -- 结果：10
    SELECT day('2023-07-10')
    -- 结果：10
    SELECT dayofmonth('2023-07-10 09:42:00')
    -- 结果：10
    SELECT dayofmonth('2023-07-10')
    -- 结果：10
```
#### 2.4.2.5 日期时间转小时函数 `hour`
```sql
语法：
    hour(timestamp)
参数类型：
    timestamp: timestamp
返回值类型：
    int
说明：
    返回日期时间字段中的小时部分
举例：
    SELECT hour('2023-07-10 09:42:00')
    -- 结果：9
```
#### 2.4.2.6 日期时间转分钟函数 `minute`
```sql
语法：
    minute(timestamp)
参数类型：
    timestamp: timestamp
返回值类型：
    int
说明：
    返回日期时间字段中的分钟部分
举例：
    SELECT minute('2023-07-10 09:42:00')
    -- 结果：42
```
#### 2.4.2.7 日期时间转秒函数 `second`
```sql
语法：
    second(timestamp)
参数类型：
    timestamp: timestamp
返回值类型：
    int
说明：
    返回日期时间字段中的秒部分
举例：
    SELECT second('2023-07-10 09:42:00')
    -- 结果：0
```
#### 2.4.2.8 日期时间转年中周函数 `weekofyear`
```sql
语法：
    weekofyear(date)
参数类型：
    date: timestamp|date
返回值类型：
    int
说明：
    返回日期时间字段中的年中周部分
举例：
    SELECT weekofyear('2023-01-01 09:42:00')
    -- 结果：52
    SELECT weekofyear('2019-12-31')
    -- 结果：1
```
补充：
1. 一周的第一天是星期一
2. 如果当前年的第一个周，天数超过3天，那就是当前年的第一周。
3. 如果当前年的第一个周，天数小于等于3天，那就是上一年的最后一周。
#### 2.4.2.9 日期时间转指定部分函数 `extract`
```sql
语法：
    extract(field FROM source)
参数类型：
    field: string
    source: timestamp|date/interval
返回值类型：
    int
说明：
    返回日期时间字段中的指定部分
    field取值包括：day, dayofweek, hour, minute, month, quarter, second, week, year
举例：
    SELECT extract(month from "2023-07-10")
    -- 结果：7
    SELECT extract(month from interval '1-3' year to month)
    -- 结果：3
```
### 2.4.3 日期计算
#### 2.4.3.1 日期时间差函数 `datediff`
```sql
语法：
    datediff(enddate, startdate)
参数类型：
    enddate: date|timestamp
    startdate: date|timestamp
返回值类型：
    int
说明：
    返回结束日期减去开始日期的天数
举例：
    SELECT datediff('2023-07-10','2023-07-01')
    -- 结果：9
    SELECT datediff('2023-07-10 01:10:22','2023-06-01 09:20:23')
    -- 结果：38
```
#### 2.4.3.2 日期时间加函数 `date_add`
```sql
语法：
    date_add(startdate, num_days)
参数类型：
    startdate: date|timestamp
    num_days: int|tinyint|smallint
返回值类型：
    string(2.1.0之前)
    date(2.1.0及之后)
说明：
    返回开始日期加上指定天数后的日期
举例：
    SELECT date_add('2023-07-10',1)
    -- 结果：'2023-07-11'
```
#### 2.4.3.3 日期时间减函数 `date_sub`
```sql
语法：
    date_sub(startdate, num_days)
参数类型：
    startdate: date|timestamp
    num_days: int|tinyint|smallint
返回值类型：
    string(2.1.0之前)
    date(2.1.0及之后)
说明：
    返回开始日期减去指定天数后的日期
举例：
    SELECT date_sub('2023-07-10',1)
    -- 结果：'2023-07-09'
```

#### 2.4.3.4 当前日期函数 `current_date`
```sql
语法：
    current_date()、current_date
参数类型：
    无
返回值类型：
    date
说明：
    返回当前日期。是开始执行查询的日期，同一个查询中，返回值相同
举例：
    SELECT current_date()
    -- 结果：'2023-07-11'
```
#### 2.4.3.5 当前时间函数 `current_timestamp`
```sql
语法：
    current_timestamp()、current_timestamp
参数类型：
    无
返回值类型：
    timestamp
说明：
    返回当前时间。是开始执行查询的时间，同一个查询中，返回值相同
举例：
    SELECT current_timestamp()
    -- 结果：'2023-07-11 15:03:11'
```
#### 2.4.3.6 日期时间加月份函数 `add_months`
```sql
语法：
    add_months(start_date, num_months [, date_format])
参数类型：
    start_date: date/timestamp
    num_months: int/tinyint/smallint
    date_format: string
返回值类型：
    string
说明：
    返回开始日期加上指定月份后的日期。
举例：
    SELECT add_months('2023-08-31',1)
    -- 结果：'2023-09-30'
```
补充：
1. 在4.0.0版本之前，时间部分会被截断，4.0.0版本及之后，可以提供一个日期格式作为返回值，允许保留时间部分。
2. 如果开始时间是月份最后一天，或者开始时间的月份天数大于结束时间的月份的最大天数，那么返回的日期是结束时间的月份最后一天；其他情况下开始时间和结束时间的天数一样。
#### 2.4.3.7 月份最后一天函数 `last_day`
```sql
语法：
    last_day(date)
参数类型：
    date: date/timestamp
返回值类型：
    string
说明：
    返回指定日期所在月份的最后一天。时间部分会被截断。
举例：
    SELECT last_day('2023-07-11')
    -- 结果：'2023-07-31'
```
#### 2.4.3.8 下一个星期函数 `next_day`
```sql
语法：
    next_day(date, day_of_week)
参数类型：
    date: date/timestamp
    day_of_week: string
返回值类型：
    string
说明：
    返回当前时间的下一个星期X所对应的日期。时间部分会被截断。
举例：
    SELECT next_day('2023-07-11','SUN')
    -- 结果：'2023-07-16'
```
补充：<br>
1. `day_of_week`参数可以取2字母简写、3字母简写或全拼，如Mo, tue, FRIDAY<br>
#### 2.4.3.9 日期时间截断函数 `trunc`
```sql
语法：
    trunc(date, format)
参数类型：
    date: date/timestamp
    format: string
返回值类型：
    string
说明：
    返回时间的最开始年份或月份如。时间部分会被截断。
举例：
    SELECT trunc('2023-07-11 15:03:11','MM')
    -- 结果：'2023-07-01'
```
补充：
1. `format`参数可以取`'YEAR'/'YYYY'/'YY'`, `'MONTH'/'MON'/'MM'`
#### 2.4.3.10 月份差函数 `months_between`
```sql
语法：
    months_between(timestamp1, timestamp2)
参数类型：
    timestamp1: timestamp|date
    timestamp2: timestamp|date
返回值类型：
    double
说明：
    返回两个日期之间的月份差。如果`timestamp1`在`timestamp2`之前，返回值为正数，否则为负数。
举例：
    SELECT months_between('2023-07-11','2023-07-01')
    -- 结果：0.32258065
```
补充：
1. 如果`timestamp1`和`timestamp2`天数一样或都是月份最后一天，返回值为整数，否则，返回8位小数，以每月31天为基础计算。
#### 2.4.3.11 日期向下取整函数(精确到年份) `floor_year`
```sql
语法：
    floor_year(timestamp)
参数类型：
    timestamp: timestamp
返回值类型：
    timestamp
说明：
    返回指定日期向下取整后的日期，精确到年份。
举例：
    SELECT floor_year(cast('2023-07-11 15:03:11' as timestamp))
    -- 结果：'2023-01-01 00:00:00'
```
#### 2.4.3.12 日期向下取整函数(精确到季度) `floor_quarter`
```sql
语法：
    floor_quarter(timestamp)
参数类型：
    timestamp: timestamp
返回值类型：
    timestamp
说明：
    返回指定日期向下取整后的日期，精确到季度。
举例：
    SELECT floor_quarter(cast('2023-06-11 15:03:11' as timestamp))
    -- 结果：'2023-04-01 00:00:00'
```
#### 2.4.3.13 日期向下取整函数(精确到月份) `floor_month`
```sql
语法：
    floor_month(timestamp)
参数类型：
    timestamp: timestamp
返回值类型：
    timestamp
说明：
    返回指定日期向下取整后的日期，精确到月份。
举例：
    SELECT floor_month(cast('2023-07-11 15:03:11' as timestamp))
    -- 结果：'2023-07-01 00:00:00'
```
#### 2.4.3.14 日期向下取整函数(精确到周) `floor_week`
```sql
语法：
    floor_week(timestamp)
参数类型：
    timestamp: timestamp
返回值类型：
    timestamp
说明：
    返回指定日期向下取整后的日期，精确到周。周一是第一天。
举例：
    SELECT floor_week(cast('2023-07-11 15:03:11' as timestamp))
    -- 结果：'2023-07-10 00:00:00'
```
#### 2.4.3.15 日期向下取整函数(精确到天) `floor_day`
```sql
语法：
    floor_day(timestamp)
参数类型：
    timestamp: timestamp
返回值类型：
    timestamp
说明：
    返回指定日期向下取整后的日期，精确到天。
举例：
    SELECT floor_day(cast('2023-07-11 15:03:11' as timestamp))
    -- 结果：'2023-07-11 00:00:00'
```
#### 2.4.3.16 日期向下取整函数(精确到小时) `floor_hour`
```sql
语法：
    floor_hour(timestamp)
参数类型：
    timestamp: timestamp
返回值类型：
    timestamp
说明：
    返回指定日期向下取整后的日期，精确到小时。
举例：
    SELECT floor_hour(cast('2023-07-11 15:03:11' as timestamp))
    -- 结果：'2023-07-11 15:00:00'
```
#### 2.4.3.17 日期向下取整函数(精确到分钟) `floor_minute`
```sql
语法：
    floor_minute(timestamp)
参数类型：
    timestamp: timestamp
返回值类型：
    timestamp
说明：
    返回指定日期向下取整后的日期，精确到分钟。
举例：
    SELECT floor_minute(cast('2023-07-11 15:03:11' as timestamp))
    -- 结果：'2023-07-11 15:03:00'
```
#### 2.4.3.18 日期向下取整函数(精确到秒) `floor_second`
```sql
语法：
    floor_second(timestamp)
参数类型：
    timestamp: timestamp
返回值类型：
    timestamp
说明：
    返回指定日期向下取整后的日期，精确到秒。
举例：
    SELECT floor_second(cast('2023-07-11 15:03:11.123' as timestamp))
    -- 结果：'2023-07-11 15:03:11'
```
## 2.5 Conditional Functions(条件函数)
### 2.5.1 条件判断函数 `if`
```sql
语法：
    if(boolean test, T valueTrue, T valueFalseOrNull)
参数类型：
    test: boolean
    valueTrue: T
    valueFalseOrNull: T
返回值类型：
    T
说明：
    如果test为true，则返回valueTrue，否则返回valueFalseOrNull
举例：
    SELECT
        IF(1 > 2, 'true', 'false')
    -- 结果：'false'
```
### 2.5.2 条件判断函数 `case when`
```sql
语法1：
    case a
        when b then result1
        [when c then result2]
        ...
        [else result]
    end
语法2：
    case
        when expr1 then result1
        [when expr2 then result2]
        ...
        [else result]
    end
参数类型：
    a: T
    b,c: T
    result1,result2,result: T
    expr1,expr2: boolean
返回值类型：
    T
说明：
    1.对于语法1:如果a=b，则返回result1；如果a=c，则返回result2；如果都不满足，则返回result；2.对于语法2:如果expr1为true，则返回result1；如果expr2为true，则返回result2；如果都不满足，则返回result；3.满足条件后，后续条件不再判断。
举例：
    SELECT
        CASE
            1
            WHEN 1 THEN 'one'
            WHEN 2 THEN 'two'
            ELSE 'other'
        END
    -- 结果：'one'
    SELECT
        CASE
            WHEN 1 > 2 THEN 'true'
            WHEN 2 > 1 THEN 'false'
            ELSE 'other'
        END
    -- 结果：'false'
```
### 2.5.3 空值判断函数 `isnull`
```sql
语法：
    isnull(T value)
参数类型：
    value: T
返回值类型：
    boolean
说明：
    如果value为null，则返回true，否则返回false
举例：
    SELECT
        isnull(NULL)
    -- 结果：true
```
### 2.5.4 非空判断函数 `isnotnull`
```sql
语法：
    isnotnull(T value)
参数类型：
    value: T
返回值类型：
    boolean
说明：
    如果value不为null，则返回true，否则返回false
举例：
    SELECT
        isnotnull(NULL)
    -- 结果：false
```
### 2.5.4 空值替换函数 `nvl`
```sql
语法：
    nvl(T value, T defaultValue)
参数类型：
    value: T
    defaultValue: T
返回值类型：
    T
说明：
    如果value为null，则返回defaultValue，否则返回value
举例：
    SELECT
        nvl(NULL, 'default')
    -- 结果：'default'
```
### 2.5.5 非空查找函数 `coalesce`
```sql
语法：
    coalesce(T value1, T value2, ...)
参数类型：
    value1,value2,...: T
返回值类型：
    T
说明：
    返回第一个不为null的值，如果所有值都为null，则返回null
举例：
    SELECT
        coalesce(NULL, 'default', 'value')
    -- 结果：'default'
```
### 2.5.6 标量函数 `nullif`
```sql
语法：
    nullif(T value1, T value2)
参数类型：
    value1,value2: T
返回值类型：
    T/NULL
说明：
    如果value1=value2，则返回null，否则返回value1。相当于if(value1=value2,null,value1)。常用与避免除数为0报错的情况。
举例：
    SELECT
        nullif(0, 0)
    -- 结果：null
```
### 2.5.7 断言函数 `assert_true`
```sql
语法：
    assert_true(boolean test)
参数类型：
    test: boolean
返回值类型：
    NULL/报错
说明：
    如果test为false，则抛出异常，否则返回null。
举例：
    SELECT
        assert_true(1 > 2)
    -- 结果：中断执行，抛异常报错
    SELECT
        assert_true(1 < 2)
    -- 结果：null
```
## 2.6 字符串函数(String Functions)
### 2.6.1 字符串格式化
#### 2.6.1.1 空格生成函数 `space`
```sql
语法：
    space(int n)
参数类型：
    n: int
返回值类型：
    string
说明：
    返回n个空格组成的字符串
举例：
    SELECT space(3)
    -- 结果：'   '
```
#### 2.6.1.2 字符串重复函数 `repeat`
```sql
语法：
    repeat(string str, int n)
参数类型：
    str: string
    n: int
返回值类型：
    string
说明：
    返回n个str字符串组成的字符串
举例：
    SELECT repeat('abc',3)
    -- 结果：'abcabcabc'
```
#### 2.6.1.3 字符串格式化函数 `printf`
```sql
语法：
    printf(string format, obj obj1, obj obj2, ...)
参数类型：
    format: string
    obj: string/int/float|double|decimal
返回值类型：
    string
说明：
    返回格式化后的字符串。按照C语言printf函数的模式生成字符串。
举例：
    SELECT printf("%d-%s", 2023, '03')
    -- 结果：'2023-03'
```
#### 2.6.1.4 字符串转小写函数 `lower`
```sql
语法：
    lower(string)
参数类型：
    string: string
返回值类型：
    string
说明：
    返回字符串的小写形式
举例：
    SELECT lower('ABC')
    -- 结果：'abc'
```
#### 2.6.1.5 字符串转大写函数 `upper`
```sql
语法：
    upper(string)
参数类型：
    string: string
返回值类型：
    string
说明：
    返回字符串的大写形式
举例：
    SELECT upper('abc')
    -- 结果：'ABC'
```
#### 2.6.1.6 字符串首字母大写函数 `initcap`
```sql
语法：
    initcap(string)
参数类型：
    string: string
返回值类型：
    string
说明：
    返回字符串的首字母大写形式。单词以空白格分割。
举例：
    SELECT initcap('abc def')
    -- 结果：'Abc Def'
```
#### 2.6.1.7 字符串反转函数 `reverse`
```sql
语法：
    reverse(string)
参数类型：
    string: string
返回值类型：
    string
说明：
    返回字符串的反转形式
举例：
    SELECT reverse('abc')
    -- 结果：'cba'
```
#### 2.6.1.8 字符串左补齐函数 `lpad`
```sql
语法：
    lpad(string str, int len, string pad)
参数类型：
    str: string
    len: int
    pad: string
返回值类型：
    string
说明：
    将字符串长度调整为n，不足时在左侧添加指定字符串，超出时截取前n个字符。如果pad为空，则返回null。
举例：
    SELECT lpad('abc', 5, '-')
    -- 结果：'--abc'
```
#### 2.6.1.9 字符串右补齐函数 `rpad`
```sql
语法：
    rpad(string str, int len, string pad)
参数类型：
    str: string
    len: int
    pad: string
返回值类型：
    string
说明：
    将字符串长度调整为n，不足时在右侧添加指定字符串，超出时截取前n个字符。如果pad为空，则返回null。
举例：
    SELECT rpad('abc', 5, '-')
    -- 结果：'abc--'
```
#### 2.6.1.10 字符串前后空格去除函数 `trim`
```sql
语法：
    trim(string str)
参数类型：
    str: string
返回值类型：
    string
说明：
    去除字符串前后的空格
举例：
    SELECT trim(' abc ')
    -- 结果：'abc'
```
#### 2.6.1.11 字符串左侧空格去除函数 `ltrim`
```sql
语法：
    ltrim(string str)
参数类型：
    str: string
返回值类型：
    string
说明：
    去除字符串左侧的空格
举例：
    SELECT ltrim(' abc ')
    -- 结果：'abc '
```
#### 2.6.1.12 字符串右侧空格去除函数 `rtrim`
```sql
语法：
    rtrim(string str)
参数类型：
    str: string
返回值类型：
    string
说明：
    去除字符串右侧的空格
举例：
    SELECT rtrim(' abc ')
    -- 结果：' abc'
```
#### 2.6.1.13 数字格式化函数 `format_number`
```sql
语法：
    format_number(number, int d)
参数类型：
    number: int|bigint|float|double|decimal
    d: int
返回值类型：
    string
说明：
    将数字的格式化为"#,###,###.##"的形式。d表示小数点后保留的位数。
举例：
    SELECT format_number(123456789.123, 2)
    -- 结果：'123,456,789.12'
```
#### 2.6.1.14 字符引用函数 `quote`
```sql
语法：
    quote(string str)
参数类型：
    str: string
返回值类型：
    string
说明：
    4.0.0版本以后支持。返回字符串的引用形式。如果字符串中包含单引号，则使用双引号引用；如果字符串中包含双引号，则使用单引号引用。
举例：
    SELECT quote('abc')
    -- 结果：'"abc"'
    SELECT quote('a"bc')
    -- 结果："'a\"bc'"
```
### 2.6.2 字符串转化
#### 2.6.2.1 字符串转ASCII码函数 `ascii`
```sql
语法：
    ascii(string)
参数类型：
    string: string
返回值类型：
    int
说明：
    返回字符串的第一个字符的ASCII码
举例：
    SELECT ascii('abc')
    -- 结果：97
```
#### 2.6.2.2 ASCII码转字符串函数 `chr`
```sql
语法：
    chr(n)
参数类型：
    n: int|bigint|double
返回值类型：
    string
说明：
    返回ASCII码对应的字符。如果n大于256，则等于n对256取余后的结果。
举例：
    SELECT chr(97)
    -- 结果：'a'
```
#### 2.6.2.3 字符串转字节函数 `binary`
```sql
语法：
    binary(string)
参数类型：
    string: string
返回值类型：
    binary
说明：
    返回字符串的二进制字节表示
举例：
    SELECT binary('abc')
    -- 结果：hex("969798")
```
#### 2.6.2.4 字符串转字节函数 `encode`
```sql
语法：
    encode(string str, string charset)
参数类型：
    str: string
    charset: string
返回值类型：
    binary
说明：
    返回字符串的二进制字节表示。charset取值为'US-ASCII', 'ISO-8859-1', 'UTF-8', 'UTF-16BE', 'UTF-16LE', 'UTF-16'。
举例：
    SELECT encode('abc','ascii')
    -- 结果：hex("969798")
```
#### 2.6.2.5 字节转字符串函数 `decode`
```sql
语法：
    decode(binary bin, string charset)
参数类型：
    bin: binary
    charset: string
返回值类型：
    string
说明：
    返回二进制字节表示的字符串。charset取值为'US-ASCII', 'ISO-8859-1', 'UTF-8', 'UTF-16BE', 'UTF-16LE', 'UTF-16'。
举例：
    SELECT decode(binary('abc'),'ascii')
    -- 结果：'abc'
```
#### 2.6.2.6 哈希值（散列值）函数 `hash`
```sql
语法：
    hash(a1[, a2...])
参数类型：
    a1: 任何类型
返回值类型：
    int
说明：
    返回输入参数的哈希值。
举例：
    SELECT hash(123, "abc", true)
    -- 结果：3105178
```
#### 2.6.2.7 Murmur哈希值（非加密散列值）函数 `murmur_hash`
```sql
语法：
    murmur_hash(a1[, a2...])
参数类型：
    a1: 任何类型
返回值类型：
    int
说明：
    返回输入参数的Murmur哈希值。
举例：
    SELECT murmur_hash(123, "abc", true)
    -- 结果：-1738619680
```
#### 2.6.2.8 [`数据屏蔽函数 mask`](#276-返回字符串的hash值-mask_hash)
#### 2.6.2.9 字节转base64编码函数 `base64`
```sql
语法：
    base64(binary bin)
参数类型：
    bin: binary
返回值类型：
    string
说明：
    返回二进制字节表示的base64编码字符串。
举例：
    SELECT base64(binary('abc'))
    -- 结果：'YWJj'
```
#### 2.6.2.10 base64解码函数 `unbase64`
```sql
语法：
    unbase64(string str)
参数类型：
    str: string
返回值类型：
    binary
说明：
    返回base64编码字符串对应的二进制字节表示。
举例：
    SELECT unbase64("YWJj")
    -- 结果：binary('abc')
```
#### 2.6.2.11 aes加密函数 `aes_encrypt`
```sql
语法：
    aes_encrypt(string str, string key)
参数类型：
    str: string
    key: string
返回值类型：
    binary
说明：
    返回字符串的aes加密结果。key长度必须为16、24或32。
举例：
    SELECT base64(aes_encrypt('ABC', '1234567890123456'))
    -- 结果：'y6Ss+zCYObpCbgfWfyNWTw=='
```
#### 2.6.2.12 aes解密函数 `aes_decrypt`
```sql
语法：
    aes_decrypt(binary bin, string key)
参数类型：
    bin: binary
    key: string
返回值类型：
    binary
说明：
    返回aes加密结果对应的字符串。key长度必须为16、24或32。
举例：
    SELECT aes_decrypt(unbase64("y6Ss+zCYObpCbgfWfyNWTw=="), "1234567890123456")
    -- 结果：binary('ABC')
```
#### 2.6.2.13 字符串转map函数 `str_to_map`
```sql
语法：
    str_to_map(string str[, string kv_delim[, string kv_delim2]])
参数类型：
    str: string
    kv_delim: string
    kv_delim2: string
返回值类型：
    map<string,string>
说明：
    将字符串转化为map。kv_delim用于分割每一对k-v，默认值为',';kv_delim2用于分割key和value，默认值为':'。
举例：
    SELECT str_to_map('a:1,b:2')
    -- 结果：{"a":"1","b":"2"}
    SELECT str_to_map('a=1,b=2', ',', '=')
    -- 结果：{"a":"1","b":"2"}
```
### 2.6.3 字符串计算
#### 2.6.3.1 字符串长度函数 `length`
```sql
语法：
    length(string)
参数类型：
    string: string
返回值类型：
    int
说明：
    返回字符串的长度
举例：
    SELECT length('你好')
    -- 结果：2
```
#### 2.6.3.2 字符串长度函数 `char_length, character_length`
```sql
语法：
    char_length(string)
参数类型：
    string: string
返回值类型：
    int
说明：
    返回字符串的中`UTF-8`字符长度
举例：
    SELECT char_length('你好')
    -- 结果：2
```
#### 2.6.3.3 字符串字节长度函数 `octet_length`
```sql
语法：
    octet_length(string)
参数类型：
    string: string
返回值类型：
    int
说明：
    返回字符串的字节长度
举例：
    SELECT octet_length('你好')
    -- 结果：6
```
#### 2.6.3.4 计算两个字符串之间的编辑距离 `levenshtein`
```sql
语法：
    levenshtein(string str1, string str2)
参数类型：
    str1: string
    str2: string
返回值类型：
    int
说明：
    计算两个字符串之间的编辑距离(莱文斯坦距离),（由一个字符串转化为另一个所需的最少替换/插入/删除次数）
举例：
    SELECT levenshtein('kitten', 'sitting')
    -- 结果：3
```
#### 2.6.3.5 词频统计 `ngrams`
```sql
语法：
    ngrams(array<array<string>>, int N, int K[, int pf])
参数类型：
    array<array<string>>: array<array<string>>
    N: int
    K: int
    pf: int
返回值类型：
    array<struct<string,double>>
说明：
    使用 N-Gram 语言模型对自然语言进行词频统计。计算字符串数组（或由字符串数组组成的数组）中，n个字符串同时出现频率最高的前k个组合。pf用于指定执行时使用的内存。
举例：
    -- 词频统计，单个单词出现次数最多的前两名
    SELECT ngrams( array( array("How", "are", "you"), array("Where", "are", "you") ), 1, 2)
    -- 结果: [{"ngram":["are"],"estfrequency":2.0},{"ngram":["you"],"estfrequency":2.0}]
```
#### 2.6.3.6 给定范围内的词频统计 `context_ngrams`
```sql
语法：
    context_ngrams(array<array<string>>, array<string>, int K[, int pf])
参数类型：
    array<array<string>>: array<array<string>>
    N: int
    K: int
    pf: int
返回值类型：
    array<struct<string,double>>
说明：
    使用 N-Gram 语言模型对自然语言进行词频统计。计算字符串数组（或由字符串数组组成的数组）中，给定要统计的词的范围array<string,null>出现频率最高的前k个组合。pf用于指定执行时使用的内存。
举例：
    -- 统计 "how do [] []"这样的组合的频率。array("how", "do", null, null)表示"how do [] []"这样的组合
    SELECT context_ngrams(sentences(lower("How are you! How do you do.")), array("how", "do", null, null), 2)
    -- 结果：[{"ngram":["you","do"],"estfrequency":1.0}]
```
#### 2.6.3.7 计算soundex code值 `soundex`
```sql
语法：
    soundex(string str)
参数类型：
    str: string
返回值类型：
    string
说明：
    计算字符串的soundex code值，用于按英文发音索引姓名。
举例：
    SELECT soundex('Robert')
    -- 结果：'R163'
```
#### 2.6.3.8 计算CRC码 `crc32`
```sql
语法：
    crc32(string/binary str)
参数类型：
    str: string/binary
返回值类型：
    bigint
说明：
    计算字符串的CRC(循环冗余信息码)。
举例：
    SELECT crc32('abc')
    -- 结果：891568578
```
#### 2.6.3.9 计算md5 `md5`
```sql
语法：
    md5(string/binary str)
参数类型：
    str: string/binary
返回值类型：
    string
说明：
    计算字符串的md5值。返回32位16进制字符串。
举例：
    SELECT md5('abc')
    -- 结果：'900150983cd24fb0d6963f7d28e17f72'
```
#### 2.6.3.10 计算SHA-1 `sha, sha1`
```sql
语法：
    sha(string/binary str)
参数类型：
    str: string/binary
返回值类型：
    string
说明：
    计算字符串的SHA-1值。
举例：
    SELECT sha('abc')
    -- 结果：'a9993e364706816aba3e25717850c26c9cd0d89d'
```
#### 2.6.3.11 计算SHA-2 `sha2`
```sql
语法：
    sha2(string/binary str, int bit)
参数类型：
    str: string/binary
    bit: int
返回值类型：
    string
说明：
    计算字符串的SHA-2值。bit取值为224、256、384、512或0（等同于256）。
举例：
    SELECT sha2('abc', 256)
    -- 结果：'ba7816bf8f01cfea414140de5dae2223b00361a396177a9cb410ff61f20015ad'
```
### 2.6.4 字符串查找、替换
#### 2.6.4.1 字符串查找函数 `locate`
```sql
语法：
    locate(string substr, string str[, int pos])
参数类型：
    substr: string
    str: string
    pos: int
返回值类型：
    int
说明：
    返回字符串str中子串substr第一次出现的位置。pos为开始查找的位置，默认为1。如果没有找到，返回0。
举例：
    SELECT locate('b', 'abc')
    -- 结果：2
    SELECT locate('b', 'abc', 3)
    -- 结果：0
```
#### 2.6.4.2 字符串查找函数 `instr`
```sql
语法：
    instr(string str, string substr)
参数类型：
    str: string
    substr: string
返回值类型：
    int
说明：
    返回字符串str中子串substr第一次出现的位置。如果没有找到，返回0。如果任意参数为null，返回null。int从1开始计数。
举例：
    SELECT instr('abc', 'b')
    -- 结果：2
```
#### 2.6.4.3 字符串查找函数 `field`
```sql
语法：
    field(string str, string str1[, string str2...])
参数类型：
    str: string
    str1: string
返回值类型：
    int
说明：
    返回字符串str在str1、str2...(构成的列表)中第一次出现的位置。如果没有找到，返回0。如果str为null，返回0。
举例：
    SELECT field('b', 'a', 'b', 'c')
    -- 结果：2
```
#### 2.6.4.4 字符串查找函数 `elt`
```sql
语法：
    elt(int N, string str1[, string str2...])
参数类型：
    N: int
    str1: string
返回值类型：
    string
说明：
    返回字符串str1、str2...中第N个字符串。如果N小于1或者大于列表长度，返回null。
举例：
    SELECT elt(2, 'a', 'b', 'c')
    -- 结果：'b'
```
#### 2.6.4.5 检查字符串是否符合某种模式 `like`
```sql
语法：
    string [NOT] LIKE [all|any] pattern
参数类型：
    string: string
    pattern: string
返回值类型：
    boolean
说明：
    检查字符串是否符合某种模式。如果A或者pattern为null，返回null。
举例：
    -- "abc"能匹配模式"%b%"
    SELECT "abc" like "%b%"
    -- 结果：true
    -- "abc"不能匹配模式"%d%"
    SELECT "abc" like all ("%b%", "%d%")
    -- 结果：false
    -- "abc"只要匹配一种模式就为真
    SELECT "abc" like any ("%b%", "%d%")
    -- 结果：true
```
#### 2.6.4.6 字符串替换函数 `replace`
```sql
语法：
    replace(string str, string OLD, string NEW)
参数类型：
    str: string
    OLD: string
    NEW: string
返回值类型：
    string
说明：
    将字符串中的OLD替换成NEW
举例：
    SELECT replace('ababab', 'abab', 'Z')
    -- 结果：'Zab'
```
#### 2.6.4.7 字符串替换函数 `translate`
```sql
语法：
    translate(input, from, to)
参数类型：
    input: string|char|varchar
    from: string|char|varchar
    to: string|char|varchar
返回值类型：
    string
说明：
    将字符串中的某些字符逐一替换为对应的字符。任意参数为null时，返回null。
举例：
    SELECT translate("abc", "ac", "13")
    -- 结果：'1b3'
```
#### 2.6.4.8 [`数据屏蔽函数 mask`](#271-数据屏蔽函数-mask)
#### 2.6.4.9 [`将某个字符串前n个字符中的各个部分，替换为指定字符 mask_first_n`](#272-将某个字符串前n个字符中的各个部分替换为指定字符-mask_first_n)
#### 2.6.4.10 [`将某个字符串后n个字符中的各个部分，替换为指定字符 mask_last_n`](#273-将某个字符串后n个字符中的各个部分替换为指定字符-mask_last_n)
#### 2.6.4.11 [`将某个字符串前n个字符除外的各个部分，替换为指定字符 mask_show_first_n`](#274-将某个字符串前n个字符除外的各个部分替换为指定字符-mask_show_first_n)
#### 2.6.4.12 [`将某个字符串后n个字符除外的各个部分，替换为指定字符 mask_show_last_n`](#275-将某个字符串后n个字符除外的各个部分替换为指定字符-mask_show_last_n)
#### 2.6.4.13 检查字符串是否符合某种正则表达式 `rlike、regexp`
```sql
语法：
    A RLIKE pattern
    A REGEXP pattern
参数类型：
    A: string
    pattern: string(Java正则表达式)
返回值类型：
    boolean
说明：
    检查字符串是否符合某种正则表达式。如果A或者pattern为null，返回null。
举例：
    SELECT "abc" rlike "[a-z]*"
    -- 结果：true
```
#### 2.6.4.14 正则表达式替换函数 `regexp_replace`
```sql
语法：
    regexp_replace(string A, string pattern, string replacement)
参数类型：
    A: string
    pattern: string(Java正则表达式)
    replacement: string
返回值类型：
    string
说明：
    将字符串A中符合pattern的子串替换为replacement。
举例：
    SELECT regexp_replace('abc', 'a', 'Z')
    -- 结果：'Zbc'
```
#### 2.6.4.15 集合查找函数 `find_in_set`
```sql
语法：
    find_in_set(string str, string strList)
参数类型：
    str: string
    strList: string
返回值类型：
    int
说明：
    返回字符串str在strList中的位置。strList是由逗号分隔的字符串。如果strList中没有str，返回0。如果str中包含逗号，返回0。
举例：
    SELECT find_in_set('b', 'a,b,c')
    -- 结果：2
    SELECT find_in_set('b,', 'a,b,c')
    -- 结果：0
```
#### 2.6.4.16 文件查找函数 `in_file`
```sql
语法：
    in_file(string str, string filename)
参数类型：
    str: string
    filename: string
返回值类型：
    boolean
说明：
    检查字符串str是否存在于文件filename中。
举例：
    SELECT in_file('abc', '/tmp/abc.txt')
    -- 结果：true
```
### 2.6.5 字符串截取、分割、拼接
#### 2.6.5.1 字符串截取函数 `substr, substring`
```sql
语法：
    substr(string str, int start[, int len])
    substring(string str, int start[, int len])
参数类型：
    str: string|binary
    start: int
    len: int
返回值类型：
    string
说明：
    返回字符串从start位置开始，长度为len的子串。如果没有len参数，则从start位置开始，截取到字符串末尾。start为负数时，从字符串末尾开始计算。
举例：
    SELECT substr('abc', 2)
    -- 结果：'bc'
    SELECT substr('abc', 2, 1)
    -- 结果：'b'
```
#### 2.6.5.2 字符串截取函数 `substring_index`
```sql
语法：
    substring_index(string str, string delim, int count)
参数类型：
    str: string
    delim: string
    count: int
返回值类型：
    string
说明：
    返回字符串从左侧开始，第count个delim分隔符之前的子串。如果count为负数，则从右侧开始计算。
举例：
    SELECT substring_index('abc,def,ghi', ',', 2)
    -- 结果：'abc,def'
    SELECT substring_index('abc,def,ghi', ',', -2)
    -- 结果：'def,ghi'
```
#### 2.6.5.3 字符串分割函数 `split`
```sql
语法：
    split(string str, string pat)
参数类型：
    str: string
    pat: string
返回值类型：
    array<string>
说明：
    返回字符串按照pat分割后的子串数组。pat是正则表达式。
举例：
    SELECT split('a,b,c', ',')
    -- 结果：["a","b","c"]
```
#### 2.6.5.4 字符串拼接函数 `concat`
```sql
语法：
    concat(string|binary A, string|binary B...)
参数类型：
    A: string|binary
    B: string|binary
返回值类型：
    string
说明：
    返回字符串拼接后的结果。任意参数为null时，返回null。
举例：
    SELECT concat('a', 'b', 'c')
    -- 结果：'abc'
```
#### 2.6.5.5 字符串拼接函数 `concat_ws`
```sql
语法：
    concat_ws(string SEP, string A, string B...)
    concat_ws(string SEP, array<string>)
参数类型：
    SEP: string
    A: string
    B: string
返回值类型：
    string
说明：
    使用特定分隔符，将多个字符串或字符串数组拼接为一个字符串。SEP为分隔符。
举例：
    SELECT concat_ws(',', 'a', 'b', 'c')
    -- 结果：'a,b,c'
    SELECT concat_ws(',', array('a', 'b', 'c'))
    -- 结果：'a,b,c'
```
#### 2.6.5.6 正则表达式匹配提取函数 `regexp_extract`
```sql
语法：
    regexp_extract(string subject, string pattern[, int index])
参数类型：
    subject: string
    pattern: string
    index: int
返回值类型：
    string
说明：
    返回字符串subject中符合pattern正则表达式的第index个匹配项。index默认为1, 0为返回整个匹配项。
举例：
    SELECT regexp_extract('100-200', '([0-9]+)-([0-9]+)', 1)
    -- 结果：'100'
```
#### 2.6.5.7 将字符串按照句子及单词进行二级分割生成数组 `sentences`
```sql
语法：
    sentences(string str[, string lang, string locale])
参数类型：
    str: string
    lang: string
    locale: string
返回值类型：
    array<array<string>>
说明：
    将字符串按照句子及单词进行二级分割生成数组。lang和locale参数用于指定语言和地区。
举例：
    SELECT sentences('Hello, world. How are you?')
    -- 结果：[["Hello", "world"], ["How", "are", "you"]]
```
#### 2.6.6.7 JSON解析函数 `get_json_object`
```sql
语法：
    get_json_object(string json_string, string path)
参数类型：
    json_string: string
    path: string
返回值类型：
    string
说明：
    解析json字符串，返回指定路径的值。path只能包含小写字母、数字，且不能以数字开头。path支持的操作符有：1.根对象："$"; 2.子操作符："."; 3.数组下标操作符："[]"; 4. []通配符："[*]"。
举例：
    SELECT
        get_json_object(
         '{"store":{"fruit": [{"weight":8,"type":"apple"},{"weight":9,"type":"pear"}],
          "bicycle":{"price" :19.95,
          "color" :"red"}},
          "email" :"amy@only_for_json_udf_test.net",
          "owner" :"amy"}',
          '$.owner'
        )
    -- 结果：'amy'
```
#### 2.6.6.8 URL解析函数 `parse_url`
```sql
语法：
    parse_url(string urlString, string partToExtract[, string keyToExtract])
参数类型：
    urlString: string
    partToExtract: string
    keyToExtract: string
返回值类型：
    string
说明：
    解析url字符串，返回指定部分的值。partToExtract取值为：HOST、PATH、QUERY、REF、PROTOCOL、AUTHORITY、FILE、USERINFO。keyToExtract用于指定QUERY的键。
举例：
    SELECT parse_url('http://facebook.com/path1/p.php?k1=v1&k2=v2#Ref1', 'QUERY', 'k1')
    -- 结果：'v1'
```
#### 2.6.6.9 XML解析函数，返回匹配到表达式的结果数组 `xpath`
```sql
语法：
    xpath(string xmlstr, string xpath)
参数类型：
    xmlstr: string
    xpath: string
返回值类型：
    array<string>
说明：
    解析xml字符串，返回匹配到表达式的结果数组。
举例：
    SELECT xpath('<a><b>b1</b><b>b2</b></a>','a/*')
    -- 没有匹配的表达式
    -- 结果：[]
    SELECT xpath('<a><b>b1</b><b>b2</b></a>','a/*/text()')
    -- 获取节点文本值
    -- 结果：['b1','b2']
    SELECT xpath('<a><b id="foo">b1</b><b id="bar">b2</b></a>','//@id')
    -- 获取节点属性值
    -- 结果：['foo','bar']
    SELECT xpath('<a><b class="bb">b1</b><b>b2</b><b>b3</b><c class="bb">c1</c><c>c2</c></a>', 'a/*[@class="bb"]/text()')
    -- 获取节点文本值
    -- 结果：['b1','c1']
```
#### 2.6.6.10 XML解析函数，返回匹配到表达式的节点的字符串 `xpath_string`
```sql
语法：
    xpath_string(string xmlstr, string xpath)
参数类型：
    xmlstr: string
    xpath: string
返回值类型：
    string
说明：
    解析xml字符串，返回匹配到表达式的节点的字符串。默认情况下，从xml字符串中返回第一个匹配到表达式的节点的值。
举例：
    SELECT xpath_string('<a><b>bb</b><c>cc</c></a>', 'a/b')
    -- 获取'a/b'节点的值
    -- 结果：'bb'
    SELECT xpath_string('<a><b>bb</b><c>cc</c></a>', 'a')
    -- 获取'a'节点的值，因为a节点有多个子节点，所以返回子节点的值的拼接字符串
    -- 结果：'bbcc'
    SELECT xpath_string('<a><b>b1</b><b>b2</b></a>', '//b')
    -- 获取'\\b'节点的值，返回第一个匹配到表达式的节点的值
    -- 结果：'b1'
    SELECT xpath_string('<a><b>b1</b><b>b2</b></a>', '//b[2]')
    -- 指定返回第二个匹配到表达式的节点的值
    -- 结果：'b2'
```
#### 2.6.6.11 XML解析函数，返回xml字符串中是否匹配xml表达式 `xpath_boolean`
```sql
语法：
    xpath_boolean(string xmlstr, string xpath)
参数类型：
    xmlstr: string
    xpath: string
返回值类型：
    boolean
说明：
    解析xml字符串，返回xml字符串中是否匹配xml表达式。
举例：
    SELECT xpath_boolean('<a><b>b</b></a>', 'a/b')
    -- 结果：true
    SELECT xpath_boolean('<a><b>b</b></a>', 'a/c')
    -- 结果：false
    SELECT xpath_boolean('<a><b>b</b></a>', 'a/b = "b"')
    -- 结果：true
    SELECT xpath_boolean('<a><b>10</b></a>', 'a/b < 10')
    -- 结果：false
```
#### 2.6.6.12 XML解析函数，返回xml字符串中经过xml表达式计算后的短整型值 `xpath_short`
```sql
语法：
    xpath_short(string xmlstr, string xpath)
参数类型：
    xmlstr: string
    xpath: string
返回值类型：
    int
说明：
    解析xml字符串，返回xml字符串中经过xml表达式计算后的短整型值。
举例：
    SELECT xpath_short('<a>b</a>', 'a = 10')
    -- 未匹配到表达式
    -- 结果：0
    SELECT xpath_short('<a>this 2 is not a number</a>', 'a')
    -- 非数值型匹配结果
    -- 结果：0
    SELECT xpath_short('<a><b class="odd">1</b><b class="even">2</b><b class="odd">4</b><c>8</c></a>', 'sum(a/*)')
    -- 计算a节点下所有子节点的和
    -- 结果：15
```
#### 2.6.6.13 XML解析函数，返回xml字符串中经过xml表达式计算后的整型值 `xpath_int`
```sql
语法：
    xpath_int(string xmlstr, string xpath)
参数类型：
    xmlstr: string
    xpath: string
返回值类型：
    int
说明：
    解析xml字符串，返回xml字符串中经过xml表达式计算后的整型值。
举例：
    SELECT xpath_int('<a>b</a>', 'a = 10')
    -- 未匹配到表达式
    -- 结果：0
    SELECT xpath_int('<a>this 2 is not a number</a>', 'a')
    -- 非数值型匹配结果
    -- 结果：0
    SELECT xpath_int('<a><b class="odd">1</b><b class="even">2</b><b class="odd">4</b><c>8</c></a>', 'sum(a/*)')
    -- 计算a节点下所有子节点的和
    -- 结果：15
```
#### 2.6.6.14 XML解析函数，返回xml字符串中经过xml表达式计算后的长整型值 `xpath_long`
```sql
语法：
    xpath_long(string xmlstr, string xpath)
参数类型：
    xmlstr: string
    xpath: string
返回值类型：
    bigint
说明：
    解析xml字符串，返回xml字符串中经过xml表达式计算后的长整型值。
举例：
    SELECT xpath_long('<a>b</a>', 'a = 10')
    -- 未匹配到表达式
    -- 结果：0
    SELECT xpath_long('<a>this 2 is not a number</a>', 'a')
    -- 非数值型匹配结果
    -- 结果：0
    SELECT xpath_long('<a><b class="odd">1</b><b class="even">2</b><b class="odd">4</b><c>8</c></a>', 'sum(a/*)')
    -- 计算a节点下所有子节点的和
    -- 结果：15
```
#### 2.6.6.15 XML解析函数，返回xml字符串中经过xml表达式计算后的浮点数 `xpath_float`
```sql
语法：
    xpath_float(string xmlstr, string xpath)
参数类型：
    xmlstr: string
    xpath: string
返回值类型：
    float
说明：
    解析xml字符串，返回xml字符串中经过xml表达式计算后的浮点数。
举例：
    SELECT xpath_float('<a>b</a>', 'a = 10')
    -- 未匹配到表达式
    -- 结果：0.0
    SELECT xpath_float('<a>this 2 is not a number</a>', 'a')
    -- 非数值型匹配结果
    -- 报错
```
#### 2.6.6.16 XML解析函数，返回xml字符串中经过xml表达式计算后的双精度浮点数 `xpath_double, xpath_number`
```sql
语法：
    xpath_float(string xmlstr, string xpath)
参数类型：
    xmlstr: string
    xpath: string
返回值类型：
    double
说明：
    解析xml字符串，返回xml字符串中经过xml表达式计算后的浮点数。
举例：
    SELECT xpath_double('<a>b</a>', 'a = 10')
    -- 未匹配到表达式
    -- 结果：0.0
    SELECT xpath_double('<a>this 2 is not a number</a>', 'a')
    -- 非数值型匹配结果
    -- 结果：NAN
```
## 2.7 Data Masking Functions(数据屏蔽函数)
### 2.7.1 数据屏蔽函数 `mask`
```sql
语法：
    mask(string str[, upper[, lower[, number[, other]]]])
参数类型：
    str: string
    upper: string| -1
    lower: string| -1
    number: string| -1
    other: string| -1
返回值类型：
    string
说明：
    数据屏蔽函数，也可以用作字符串替换。返回屏蔽后的字符串。在默认情况下大写字母被替换成X，小写字母被替换成x，数字被替换成n，其他字符不变。uppper、lower、number、other取值为-1时，表示保留原字符。
举例：
    SELECT mask("2021+03.04", -1, -1, -1, '-')
    -- 结果：'2021-03-04'
```
### 2.7.2 将某个字符串前n个字符中的各个部分，替换为指定字符 `mask_first_n`
```sql
语法：
    mask_first_n(string str, int n[, upper[, lower[, number[, other]]]])
参数类型：
    str: string
    n: int
    upper: string| -1
    lower: string| -1
    number: string| -1
    other: string| -1
返回值类型：
    string
说明：
    数据屏蔽函数，也可以用作字符串替换。返回屏蔽后的字符串。在默认情况下大写字母被替换成X，小写字母被替换成x，数字被替换成n，其他字符不变。uppper、lower、number、other取值为-1时，表示保留原字符。
举例：
    SELECT mask_first_n("2021+03.04", 7, -1, -1, -1, '-')
    -- 结果：'2021-03.04'
```
### 2.7.3 将某个字符串后n个字符中的各个部分，替换为指定字符 `mask_last_n`
```sql
语法：
    mask_last_n(string str, int n[, upper[, lower[, number[, other]]]])
参数类型：
    str: string
    n: int
    upper: string| -1
    lower: string| -1
    number: string| -1
    other: string| -1
返回值类型：
    string
说明：
    数据屏蔽函数，也可以用作字符串替换。返回屏蔽后的字符串。在默认情况下大写字母被替换成X，小写字母被替换成x，数字被替换成n，其他字符不变。uppper、lower、number、other取值为-1时，表示保留原字符。
举例：
    SELECT mask_last_n("2021+03.04", 3, -1, -1, -1, '-')
    -- 结果：'2021+03-04'
```
### 2.7.4 将某个字符串前n个字符除外的各个部分，替换为指定字符 `mask_show_first_n`
```sql
语法：
    mask_show_first_n(string str, int n[, upper[, lower[, number[, other]]]])
参数类型：
    str: string
    n: int
    upper: string| -1
    lower: string| -1
    number: string| -1
    other: string| -1
返回值类型：
    string
说明：
    数据屏蔽函数，也可以用作字符串替换。返回屏蔽后的字符串。在默认情况下大写字母被替换成X，小写字母被替换成x，数字被替换成n，其他字符不变。uppper、lower、number、other取值为-1时，表示保留原字符。
举例：
    SELECT mask_show_first_n("2021+03.04", 7, -1, -1, -1, '-')
    -- 结果：'2021+03-04'
```
### 2.7.5 将某个字符串后n个字符除外的各个部分，替换为指定字符 `mask_show_last_n`
```sql
语法：
    mask_show_last_n(string str, int n[, upper[, lower[, number[, other]]]])
参数类型：
    str: string
    n: int
    upper: string| -1
    lower: string| -1
    number: string| -1
    other: string| -1
返回值类型：
    string
说明：
    数据屏蔽函数，也可以用作字符串替换。返回屏蔽后的字符串。在默认情况下大写字母被替换成X，小写字母被替换成x，数字被替换成n，其他字符不变。uppper、lower、number、other取值为-1时，表示保留原字符。
举例：
    SELECT mask_show_last_n("2021+03.04", 3, -1, -1, -1, '-')
    -- 结果：'2021-03.04'
```
### 2.7.6 返回字符串的hash值 `mask_hash`
```sql
语法：
    mask_hash(str)
参数类型：
    str: string|char|varchar
返回值类型：
    string
说明：
    返回字符串的hash值。如果str为非字符串类型，则返回null。返回值是固定的，可以用作join条件。
举例：
    SELECT mask_hash("你好")
    -- 结果：'670d9743542cae3ea7ebe36af56bd53648b0a1126162e78d81a32934a711302e'
```
# 3. Built-in Aggregate Functions(UDAF)(聚合函数)
## 3.1 常用聚合函数
### 3.1.1 求和函数 `count`
```sql
语法：
    count(*),
    count(expr),
    count(DISTINCT expr[, expr...])
参数类型：
    expr: ALL
返回值类型：
    bigint
说明：
    count(*)返回当前分区的行数,包含值为null的行；count(expr)返回expr不为null的行数；count(DISTINCT expr)返回expr不为null且不重复的行数。
举例：
    SELECT
        count(DISTINCT t1.id1) AS col1,
        count(DISTINCT t2.id2) AS col2,
        count(DISTINCT t1.id1, t2.id2) AS col3
    FROM
        (
            SELECT
                EXPLODE(ARRAY(1, 2, 3, 4, 5)) AS id1
        ) AS t1
        JOIN(
            SELECT
                EXPLODE(array(1, 2)) AS id2
        ) AS t2
    -- 结果：
    -- col1	col2 col3
    -- 5	2    10
```
# 4. Built-in Table-Generating Functions(UDTF)(表生成函数)
## 4.1 Usage Examples
### 4.1.1 explode (array)
### 4.1.2 explode (map)
### 4.1.3 posexplode (array)
### 4.1.4 inline (array of structs)
### 4.1.5 stack (values)
## 4.2 explode
## 4.3 posexplode
## 4.4 json_tuple
## 4.5 parse_url_tuple
# 5. 常数及常数生成函数
## 5.1 常数
### 5.1.1 布尔值true `true`
```sql
语法：
    true
参数类型：
    无
返回值类型：
    boolean
说明：
    返回布尔值true
举例：
    SELECT true
    -- 结果：true
```
### 5.1.2 布尔值false `false`
```sql
语法：
    false
参数类型：
    无
返回值类型：
    boolean
说明：
    返回布尔值false
举例：
    SELECT false
    -- 结果：false
```
### 5.1.3 自然对数的底数 `e`
```sql
语法：
    e()
参数类型：
    无
返回值类型：
    double
说明：
    返回自然对数的底数
举例：
    SELECT e()
    -- 结果：2.718281828459045
```
### 5.1.4 圆周率 `pi`
```sql
语法：
    pi()
参数类型：
    无
返回值类型：
    double
说明：
    返回圆周率
举例：
    SELECT pi()
    -- 结果：3.141592653589793
```
## 5.2 常数生成函数
### 5.2.1 当前时间函数 `current_date`
见[当前时间函数 `current_date`](#2435-当前时间函数-current_timestamp)
### 5.2.2 当前时间函数 `current_timestamp`
见[当前时间函数 `current_timestamp`](#2435-当前时间函数-current_timestamp)
### 5.2.3 当前用户所属组函数 `current_groups`
```sql
语法：
    current_groups()
参数类型：
    无
返回值类型：
    array<string>
说明：
    返回当前系统中的所有用户组名称构成的列表
举例：
    SELECT current_groups()
    -- 结果：['hive','ficommon']
```
### 5.2.4 当前用户函数 `current_user`
```sql
语法：
    current_user()
参数类型：
    无
返回值类型：
    string
说明：
    返回当前用户名称
举例：
    SELECT current_user()
    -- 返回值取决于当前用户
    -- 结果：'xxx'
```
### 5.2.5 当前数据库函数 `current_database`
```sql
语法：
    current_database()
参数类型：
    无
返回值类型：
    string
说明：
    返回当前使用的数据库名称
举例：
    SELECT current_database()
    -- 返回值取决于当前数据库
    -- 结果：'xxx'
```
### 5.2.6 当前授权用户函数 `current_authorizer`
```sql
语法：
    current_authorizer()
参数类型：
    无
返回值类型：
    string
说明：
    返回当前Hive授权者的名称
举例：
    SELECT current_authorizer()
    -- 返回值取决于当前授权者
    -- 结果：'xxx'
```
### 5.2.7 当前登录用户函数 `logged_in_user`
```sql
语法：
    logged_in_user()
参数类型：
    无
返回值类型：
    string
说明：
    返回当前登录用户的名称
举例：
    SELECT logged_in_user()
    -- 返回值取决于当前登录用户
    -- 结果：'xxx'
```
### 5.2.8 当前Hive版本函数 `version`
```sql
语法：
    version()
参数类型：
    无
返回值类型：
    string
说明：
    返回当前Hive版本
举例：
    SELECT version()
    -- 结果：'3.1.0'
```
### 5.2.9 生成通用唯一识别码 `uuid`
```sql
语法：
    uuid()
参数类型：
    无
返回值类型：
    string
说明：
    返回一个通用唯一识别码
举例：
    SELECT uuid()
    -- 结果：'c6d6e3a0-4b1e-4b4d-8b1e-4b4d8b1e4b4d'
```
### 5.2.10 指示数据库架构是否启用了restrict模式 `restrict_information_schema`
```sql
语法：
    restrict_information_schema()
参数类型：
    无
返回值类型：
    boolean
说明：
    返回逻辑值，指示数据库架构是否启用了restrict模式
举例：
    SELECT restrict_information_schema()
    -- 结果：false
```