<!-- TOC  -->
- [0. 基本语法](#0-基本语法)
- [1. 函数(functions)](#1-函数functions)
    - [1.1 聚合函数(Aggregating Functions)](#11-聚合函数aggregating-functions)
        - [1.1.1 count](#111-count)
        - [1.1.2 sum](#112-sum)
        - [1.1.3 min](#113-min)
        - [1.1.4 max](#114-max)
        - [1.1.5 avg](#115-avg)
    - [1.2 窗口函数(Windowing Functions)](#12-窗口函数windowing-functions)
        - [1.2.1 lead](#121-lead)
        - [1.2.2 lag](#122-lag)
        - [1.2.3 first\_value](#123-first_value)
        - [1.2.4 last\_value](#124-last_value)
    - [1.3 分析函数(Analytics Functions)](#13-分析函数analytics-functions)
        - [1.3.1 rank](#131-rank)
        - [1.3.2 row\_number](#132-row_number)
        - [1.3.3 dense\_rank](#133-dense_rank)
        - [1.3.4 cume\_dist](#134-cume_dist)
        - [1.3.5 percent\_rank](#135-percent_rank)
        - [1.3.6 ntile](#136-ntile)
- [2. 分区子句(partition clause)](#2-分区子句partition-clause)
- [3. 排序字句(order clause)](#3-排序字句order-clause)
- [4. 开窗子句(window clause)](#4-开窗子句window-clause)
<!-- /TOC -->
# 0. 基本语法
```sql
语法：
    常用形式：
        functions OVER([partition clause] [order clause] [window clause])
    别名形式：
        functions OVER w
        WINDOW w AS ([partition clause] [order clause] [window clause])
        -- 一个查询不允许有两个同名的window
        -- window的定义不可以包含重复依赖
```
# 1. 函数(functions)
## 1.1 聚合函数(Aggregating Functions)
### 1.1.1 count
### 1.1.2 sum
### 1.1.3 min
### 1.1.4 max
### 1.1.5 avg
## 1.2 窗口函数(Windowing Functions)
### 1.2.1 lead
### 1.2.2 lag
### 1.2.3 first_value
### 1.2.4 last_value
## 1.3 分析函数(Analytics Functions)
### 1.3.1 rank
### 1.3.2 row_number
### 1.3.3 dense_rank
### 1.3.4 cume_dist
### 1.3.5 percent_rank
### 1.3.6 ntile
# 2. 分区子句(partition clause)
# 3. 排序字句(order clause)
# 4. 开窗子句(window clause)
```sql
语法：
    (ROWS | RANGE) BETWEEN (UNBOUNDED | [num]) PRECEDING AND ([num] PRECEDING | CURRENT ROW | (UNBOUNDED | [num]) FOLLOWING)
    (ROWS | RANGE) BETWEEN CURRENT ROW AND (CURRENT ROW | (UNBOUNDED | [num]) FOLLOWING)
    (ROWS | RANGE) BETWEEN [num] FOLLOWING AND (UNBOUNDED | [num]) FOLLOWING
    -- 当没有指定window clause时，默认的形式是：RANGE BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW
    -- 当没有指定order by和window clause时，默认的形式是：ROW BETWEEN UNBOUNDED PRECEDING AND UNBOUNDED FOLLOWING
```